import{r as Ws,a as zs,g as Vs}from"./vendor-B9D_A6Vq.js";import{r as y,N as ft,R as ts,u as ss,a as Ks,b as Js,c as de,B as Ys}from"./router-CQlwLfC7.js";import{L as Pt,A as Qs,U as Xs,a as re,C as G,T as Gs,b as Pe,c as Zs,d as er,E as tr,e as Ce,B as ae,P as rs,S as sr,f as rr,g as ar,I as ot,X as yt,h as Le,M as lt,i as as,j as nr,k as bt,l as ir,m as ct,n as dt,o as mt,p as or,q as lr,R as cr,r as dr,s as mr,D as xr,t as ur,F as hr,u as gr}from"./icons-GzlX2JDm.js";import{R as Re,B as ns,C as We,X as ze,Y as Ve,T as Ee,a as is,b as At,L as pr,c as tt,P as fr,d as yr,A as br,e as st}from"./charts-lobmseM4.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();var rt={exports:{}},ve={};var Tt;function jr(){if(Tt)return ve;Tt=1;var r=Ws(),s=Symbol.for("react.element"),t=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(l,m,d){var c,g={},b=null,w=null;d!==void 0&&(b=""+d),m.key!==void 0&&(b=""+m.key),m.ref!==void 0&&(w=m.ref);for(c in m)a.call(m,c)&&!o.hasOwnProperty(c)&&(g[c]=m[c]);if(l&&l.defaultProps)for(c in m=l.defaultProps,m)g[c]===void 0&&(g[c]=m[c]);return{$$typeof:s,type:l,key:b,ref:w,props:g,_owner:n.current}}return ve.Fragment=t,ve.jsx=i,ve.jsxs=i,ve}var Dt;function wr(){return Dt||(Dt=1,rt.exports=jr()),rt.exports}var e=wr(),Ie={},Mt;function Nr(){if(Mt)return Ie;Mt=1;var r=zs();return Ie.createRoot=r.createRoot,Ie.hydrateRoot=r.hydrateRoot,Ie}var kr=Nr();const vr=Vs(kr);function os(r,s){return function(){return r.apply(s,arguments)}}const{toString:Sr}=Object.prototype,{getPrototypeOf:jt}=Object,{iterator:Je,toStringTag:ls}=Symbol,Ye=(r=>s=>{const t=Sr.call(s);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Z=r=>(r=r.toLowerCase(),s=>Ye(s)===r),Qe=r=>s=>typeof s===r,{isArray:ye}=Array,fe=Qe("undefined");function Ae(r){return r!==null&&!fe(r)&&r.constructor!==null&&!fe(r.constructor)&&W(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const cs=Z("ArrayBuffer");function $r(r){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(r):s=r&&r.buffer&&cs(r.buffer),s}const Rr=Qe("string"),W=Qe("function"),ds=Qe("number"),Te=r=>r!==null&&typeof r=="object",Er=r=>r===!0||r===!1,_e=r=>{if(Ye(r)!=="object")return!1;const s=jt(r);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(ls in r)&&!(Je in r)},Cr=r=>{if(!Te(r)||Ae(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},Lr=Z("Date"),Pr=Z("File"),Ar=Z("Blob"),Tr=Z("FileList"),Dr=r=>Te(r)&&W(r.pipe),Mr=r=>{let s;return r&&(typeof FormData=="function"&&r instanceof FormData||W(r.append)&&((s=Ye(r))==="formdata"||s==="object"&&W(r.toString)&&r.toString()==="[object FormData]"))},Or=Z("URLSearchParams"),[Fr,Ir,Br,Ur]=["ReadableStream","Request","Response","Headers"].map(Z),_r=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function De(r,s,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let a,n;if(typeof r!="object"&&(r=[r]),ye(r))for(a=0,n=r.length;a<n;a++)s.call(null,r[a],a,r);else{if(Ae(r))return;const o=t?Object.getOwnPropertyNames(r):Object.keys(r),i=o.length;let l;for(a=0;a<i;a++)l=o[a],s.call(null,r[l],l,r)}}function ms(r,s){if(Ae(r))return null;s=s.toLowerCase();const t=Object.keys(r);let a=t.length,n;for(;a-- >0;)if(n=t[a],s===n.toLowerCase())return n;return null}const me=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xs=r=>!fe(r)&&r!==me;function xt(){const{caseless:r,skipUndefined:s}=xs(this)&&this||{},t={},a=(n,o)=>{const i=r&&ms(t,o)||o;_e(t[i])&&_e(n)?t[i]=xt(t[i],n):_e(n)?t[i]=xt({},n):ye(n)?t[i]=n.slice():(!s||!fe(n))&&(t[i]=n)};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&De(arguments[n],a);return t}const Hr=(r,s,t,{allOwnKeys:a}={})=>(De(s,(n,o)=>{t&&W(n)?r[o]=os(n,t):r[o]=n},{allOwnKeys:a}),r),qr=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Wr=(r,s,t,a)=>{r.prototype=Object.create(s.prototype,a),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:s.prototype}),t&&Object.assign(r.prototype,t)},zr=(r,s,t,a)=>{let n,o,i;const l={};if(s=s||{},r==null)return s;do{for(n=Object.getOwnPropertyNames(r),o=n.length;o-- >0;)i=n[o],(!a||a(i,r,s))&&!l[i]&&(s[i]=r[i],l[i]=!0);r=t!==!1&&jt(r)}while(r&&(!t||t(r,s))&&r!==Object.prototype);return s},Vr=(r,s,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=s.length;const a=r.indexOf(s,t);return a!==-1&&a===t},Kr=r=>{if(!r)return null;if(ye(r))return r;let s=r.length;if(!ds(s))return null;const t=new Array(s);for(;s-- >0;)t[s]=r[s];return t},Jr=(r=>s=>r&&s instanceof r)(typeof Uint8Array<"u"&&jt(Uint8Array)),Yr=(r,s)=>{const a=(r&&r[Je]).call(r);let n;for(;(n=a.next())&&!n.done;){const o=n.value;s.call(r,o[0],o[1])}},Qr=(r,s)=>{let t;const a=[];for(;(t=r.exec(s))!==null;)a.push(t);return a},Xr=Z("HTMLFormElement"),Gr=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,a,n){return a.toUpperCase()+n}),Ot=(({hasOwnProperty:r})=>(s,t)=>r.call(s,t))(Object.prototype),Zr=Z("RegExp"),us=(r,s)=>{const t=Object.getOwnPropertyDescriptors(r),a={};De(t,(n,o)=>{let i;(i=s(n,o,r))!==!1&&(a[o]=i||n)}),Object.defineProperties(r,a)},ea=r=>{us(r,(s,t)=>{if(W(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const a=r[t];if(W(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},ta=(r,s)=>{const t={},a=n=>{n.forEach(o=>{t[o]=!0})};return ye(r)?a(r):a(String(r).split(s)),t},sa=()=>{},ra=(r,s)=>r!=null&&Number.isFinite(r=+r)?r:s;function aa(r){return!!(r&&W(r.append)&&r[ls]==="FormData"&&r[Je])}const na=r=>{const s=new Array(10),t=(a,n)=>{if(Te(a)){if(s.indexOf(a)>=0)return;if(Ae(a))return a;if(!("toJSON"in a)){s[n]=a;const o=ye(a)?[]:{};return De(a,(i,l)=>{const m=t(i,n+1);!fe(m)&&(o[l]=m)}),s[n]=void 0,o}}return a};return t(r,0)},ia=Z("AsyncFunction"),oa=r=>r&&(Te(r)||W(r))&&W(r.then)&&W(r.catch),hs=((r,s)=>r?setImmediate:s?((t,a)=>(me.addEventListener("message",({source:n,data:o})=>{n===me&&o===t&&a.length&&a.shift()()},!1),n=>{a.push(n),me.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",W(me.postMessage)),la=typeof queueMicrotask<"u"?queueMicrotask.bind(me):typeof process<"u"&&process.nextTick||hs,ca=r=>r!=null&&W(r[Je]),x={isArray:ye,isArrayBuffer:cs,isBuffer:Ae,isFormData:Mr,isArrayBufferView:$r,isString:Rr,isNumber:ds,isBoolean:Er,isObject:Te,isPlainObject:_e,isEmptyObject:Cr,isReadableStream:Fr,isRequest:Ir,isResponse:Br,isHeaders:Ur,isUndefined:fe,isDate:Lr,isFile:Pr,isBlob:Ar,isRegExp:Zr,isFunction:W,isStream:Dr,isURLSearchParams:Or,isTypedArray:Jr,isFileList:Tr,forEach:De,merge:xt,extend:Hr,trim:_r,stripBOM:qr,inherits:Wr,toFlatObject:zr,kindOf:Ye,kindOfTest:Z,endsWith:Vr,toArray:Kr,forEachEntry:Yr,matchAll:Qr,isHTMLForm:Xr,hasOwnProperty:Ot,hasOwnProp:Ot,reduceDescriptors:us,freezeMethods:ea,toObjectSet:ta,toCamelCase:Gr,noop:sa,toFiniteNumber:ra,findKey:ms,global:me,isContextDefined:xs,isSpecCompliantForm:aa,toJSONObject:na,isAsyncFn:ia,isThenable:oa,setImmediate:hs,asap:la,isIterable:ca};function k(r,s,t,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",s&&(this.code=s),t&&(this.config=t),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}x.inherits(k,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:x.toJSONObject(this.config),code:this.code,status:this.status}}});const gs=k.prototype,ps={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{ps[r]={value:r}});Object.defineProperties(k,ps);Object.defineProperty(gs,"isAxiosError",{value:!0});k.from=(r,s,t,a,n,o)=>{const i=Object.create(gs);x.toFlatObject(r,i,function(c){return c!==Error.prototype},d=>d!=="isAxiosError");const l=r&&r.message?r.message:"Error",m=s==null&&r?r.code:s;return k.call(i,l,m,t,a,n),r&&i.cause==null&&Object.defineProperty(i,"cause",{value:r,configurable:!0}),i.name=r&&r.name||"Error",o&&Object.assign(i,o),i};const da=null;function ut(r){return x.isPlainObject(r)||x.isArray(r)}function fs(r){return x.endsWith(r,"[]")?r.slice(0,-2):r}function Ft(r,s,t){return r?r.concat(s).map(function(n,o){return n=fs(n),!t&&o?"["+n+"]":n}).join(t?".":""):s}function ma(r){return x.isArray(r)&&!r.some(ut)}const xa=x.toFlatObject(x,{},null,function(s){return/^is[A-Z]/.test(s)});function Xe(r,s,t){if(!x.isObject(r))throw new TypeError("target must be an object");s=s||new FormData,t=x.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,p){return!x.isUndefined(p[f])});const a=t.metaTokens,n=t.visitor||c,o=t.dots,i=t.indexes,m=(t.Blob||typeof Blob<"u"&&Blob)&&x.isSpecCompliantForm(s);if(!x.isFunction(n))throw new TypeError("visitor must be a function");function d(u){if(u===null)return"";if(x.isDate(u))return u.toISOString();if(x.isBoolean(u))return u.toString();if(!m&&x.isBlob(u))throw new k("Blob is not supported. Use a Buffer instead.");return x.isArrayBuffer(u)||x.isTypedArray(u)?m&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function c(u,f,p){let N=u;if(u&&!p&&typeof u=="object"){if(x.endsWith(f,"{}"))f=a?f:f.slice(0,-2),u=JSON.stringify(u);else if(x.isArray(u)&&ma(u)||(x.isFileList(u)||x.endsWith(f,"[]"))&&(N=x.toArray(u)))return f=fs(f),N.forEach(function($,E){!(x.isUndefined($)||$===null)&&s.append(i===!0?Ft([f],E,o):i===null?f:f+"[]",d($))}),!1}return ut(u)?!0:(s.append(Ft(p,f,o),d(u)),!1)}const g=[],b=Object.assign(xa,{defaultVisitor:c,convertValue:d,isVisitable:ut});function w(u,f){if(!x.isUndefined(u)){if(g.indexOf(u)!==-1)throw Error("Circular reference detected in "+f.join("."));g.push(u),x.forEach(u,function(N,v){(!(x.isUndefined(N)||N===null)&&n.call(s,N,x.isString(v)?v.trim():v,f,b))===!0&&w(N,f?f.concat(v):[v])}),g.pop()}}if(!x.isObject(r))throw new TypeError("data must be an object");return w(r),s}function It(r){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function wt(r,s){this._pairs=[],r&&Xe(r,this,s)}const ys=wt.prototype;ys.append=function(s,t){this._pairs.push([s,t])};ys.toString=function(s){const t=s?function(a){return s.call(this,a,It)}:It;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function ua(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bs(r,s,t){if(!s)return r;const a=t&&t.encode||ua;x.isFunction(t)&&(t={serialize:t});const n=t&&t.serialize;let o;if(n?o=n(s,t):o=x.isURLSearchParams(s)?s.toString():new wt(s,t).toString(a),o){const i=r.indexOf("#");i!==-1&&(r=r.slice(0,i)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r}class Bt{constructor(){this.handlers=[]}use(s,t,a){return this.handlers.push({fulfilled:s,rejected:t,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){x.forEach(this.handlers,function(a){a!==null&&s(a)})}}const js={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ha=typeof URLSearchParams<"u"?URLSearchParams:wt,ga=typeof FormData<"u"?FormData:null,pa=typeof Blob<"u"?Blob:null,fa={isBrowser:!0,classes:{URLSearchParams:ha,FormData:ga,Blob:pa},protocols:["http","https","file","blob","url","data"]},Nt=typeof window<"u"&&typeof document<"u",ht=typeof navigator=="object"&&navigator||void 0,ya=Nt&&(!ht||["ReactNative","NativeScript","NS"].indexOf(ht.product)<0),ba=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ja=Nt&&window.location.href||"http://localhost",wa=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Nt,hasStandardBrowserEnv:ya,hasStandardBrowserWebWorkerEnv:ba,navigator:ht,origin:ja},Symbol.toStringTag,{value:"Module"})),B={...wa,...fa};function Na(r,s){return Xe(r,new B.classes.URLSearchParams,{visitor:function(t,a,n,o){return B.isNode&&x.isBuffer(t)?(this.append(a,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...s})}function ka(r){return x.matchAll(/\w+|\[(\w*)]/g,r).map(s=>s[0]==="[]"?"":s[1]||s[0])}function va(r){const s={},t=Object.keys(r);let a;const n=t.length;let o;for(a=0;a<n;a++)o=t[a],s[o]=r[o];return s}function ws(r){function s(t,a,n,o){let i=t[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),m=o>=t.length;return i=!i&&x.isArray(n)?n.length:i,m?(x.hasOwnProp(n,i)?n[i]=[n[i],a]:n[i]=a,!l):((!n[i]||!x.isObject(n[i]))&&(n[i]=[]),s(t,a,n[i],o)&&x.isArray(n[i])&&(n[i]=va(n[i])),!l)}if(x.isFormData(r)&&x.isFunction(r.entries)){const t={};return x.forEachEntry(r,(a,n)=>{s(ka(a),n,t,0)}),t}return null}function Sa(r,s,t){if(x.isString(r))try{return(s||JSON.parse)(r),x.trim(r)}catch(a){if(a.name!=="SyntaxError")throw a}return(t||JSON.stringify)(r)}const Me={transitional:js,adapter:["xhr","http","fetch"],transformRequest:[function(s,t){const a=t.getContentType()||"",n=a.indexOf("application/json")>-1,o=x.isObject(s);if(o&&x.isHTMLForm(s)&&(s=new FormData(s)),x.isFormData(s))return n?JSON.stringify(ws(s)):s;if(x.isArrayBuffer(s)||x.isBuffer(s)||x.isStream(s)||x.isFile(s)||x.isBlob(s)||x.isReadableStream(s))return s;if(x.isArrayBufferView(s))return s.buffer;if(x.isURLSearchParams(s))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let l;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Na(s,this.formSerializer).toString();if((l=x.isFileList(s))||a.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Xe(l?{"files[]":s}:s,m&&new m,this.formSerializer)}}return o||n?(t.setContentType("application/json",!1),Sa(s)):s}],transformResponse:[function(s){const t=this.transitional||Me.transitional,a=t&&t.forcedJSONParsing,n=this.responseType==="json";if(x.isResponse(s)||x.isReadableStream(s))return s;if(s&&x.isString(s)&&(a&&!this.responseType||n)){const i=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?k.from(l,k.ERR_BAD_RESPONSE,this,null,this.response):l}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:B.classes.FormData,Blob:B.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};x.forEach(["delete","get","head","post","put","patch"],r=>{Me.headers[r]={}});const $a=x.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ra=r=>{const s={};let t,a,n;return r&&r.split(`
`).forEach(function(i){n=i.indexOf(":"),t=i.substring(0,n).trim().toLowerCase(),a=i.substring(n+1).trim(),!(!t||s[t]&&$a[t])&&(t==="set-cookie"?s[t]?s[t].push(a):s[t]=[a]:s[t]=s[t]?s[t]+", "+a:a)}),s},Ut=Symbol("internals");function Se(r){return r&&String(r).trim().toLowerCase()}function He(r){return r===!1||r==null?r:x.isArray(r)?r.map(He):String(r)}function Ea(r){const s=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=t.exec(r);)s[a[1]]=a[2];return s}const Ca=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function at(r,s,t,a,n){if(x.isFunction(a))return a.call(this,s,t);if(n&&(s=t),!!x.isString(s)){if(x.isString(a))return s.indexOf(a)!==-1;if(x.isRegExp(a))return a.test(s)}}function La(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,t,a)=>t.toUpperCase()+a)}function Pa(r,s){const t=x.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(r,a+t,{value:function(n,o,i){return this[a].call(this,s,n,o,i)},configurable:!0})})}let z=class{constructor(s){s&&this.set(s)}set(s,t,a){const n=this;function o(l,m,d){const c=Se(m);if(!c)throw new Error("header name must be a non-empty string");const g=x.findKey(n,c);(!g||n[g]===void 0||d===!0||d===void 0&&n[g]!==!1)&&(n[g||m]=He(l))}const i=(l,m)=>x.forEach(l,(d,c)=>o(d,c,m));if(x.isPlainObject(s)||s instanceof this.constructor)i(s,t);else if(x.isString(s)&&(s=s.trim())&&!Ca(s))i(Ra(s),t);else if(x.isObject(s)&&x.isIterable(s)){let l={},m,d;for(const c of s){if(!x.isArray(c))throw TypeError("Object iterator must return a key-value pair");l[d=c[0]]=(m=l[d])?x.isArray(m)?[...m,c[1]]:[m,c[1]]:c[1]}i(l,t)}else s!=null&&o(t,s,a);return this}get(s,t){if(s=Se(s),s){const a=x.findKey(this,s);if(a){const n=this[a];if(!t)return n;if(t===!0)return Ea(n);if(x.isFunction(t))return t.call(this,n,a);if(x.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,t){if(s=Se(s),s){const a=x.findKey(this,s);return!!(a&&this[a]!==void 0&&(!t||at(this,this[a],a,t)))}return!1}delete(s,t){const a=this;let n=!1;function o(i){if(i=Se(i),i){const l=x.findKey(a,i);l&&(!t||at(a,a[l],l,t))&&(delete a[l],n=!0)}}return x.isArray(s)?s.forEach(o):o(s),n}clear(s){const t=Object.keys(this);let a=t.length,n=!1;for(;a--;){const o=t[a];(!s||at(this,this[o],o,s,!0))&&(delete this[o],n=!0)}return n}normalize(s){const t=this,a={};return x.forEach(this,(n,o)=>{const i=x.findKey(a,o);if(i){t[i]=He(n),delete t[o];return}const l=s?La(o):String(o).trim();l!==o&&delete t[o],t[l]=He(n),a[l]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const t=Object.create(null);return x.forEach(this,(a,n)=>{a!=null&&a!==!1&&(t[n]=s&&x.isArray(a)?a.join(", "):a)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,t])=>s+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...t){const a=new this(s);return t.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[Ut]=this[Ut]={accessors:{}}).accessors,n=this.prototype;function o(i){const l=Se(i);a[l]||(Pa(n,i),a[l]=!0)}return x.isArray(s)?s.forEach(o):o(s),this}};z.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);x.reduceDescriptors(z.prototype,({value:r},s)=>{let t=s[0].toUpperCase()+s.slice(1);return{get:()=>r,set(a){this[t]=a}}});x.freezeMethods(z);function nt(r,s){const t=this||Me,a=s||t,n=z.from(a.headers);let o=a.data;return x.forEach(r,function(l){o=l.call(t,o,n.normalize(),s?s.status:void 0)}),n.normalize(),o}function Ns(r){return!!(r&&r.__CANCEL__)}function be(r,s,t){k.call(this,r??"canceled",k.ERR_CANCELED,s,t),this.name="CanceledError"}x.inherits(be,k,{__CANCEL__:!0});function ks(r,s,t){const a=t.config.validateStatus;!t.status||!a||a(t.status)?r(t):s(new k("Request failed with status code "+t.status,[k.ERR_BAD_REQUEST,k.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Aa(r){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return s&&s[1]||""}function Ta(r,s){r=r||10;const t=new Array(r),a=new Array(r);let n=0,o=0,i;return s=s!==void 0?s:1e3,function(m){const d=Date.now(),c=a[o];i||(i=d),t[n]=m,a[n]=d;let g=o,b=0;for(;g!==n;)b+=t[g++],g=g%r;if(n=(n+1)%r,n===o&&(o=(o+1)%r),d-i<s)return;const w=c&&d-c;return w?Math.round(b*1e3/w):void 0}}function Da(r,s){let t=0,a=1e3/s,n,o;const i=(d,c=Date.now())=>{t=c,n=null,o&&(clearTimeout(o),o=null),r(...d)};return[(...d)=>{const c=Date.now(),g=c-t;g>=a?i(d,c):(n=d,o||(o=setTimeout(()=>{o=null,i(n)},a-g)))},()=>n&&i(n)]}const Ke=(r,s,t=3)=>{let a=0;const n=Ta(50,250);return Da(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,m=i-a,d=n(m),c=i<=l;a=i;const g={loaded:i,total:l,progress:l?i/l:void 0,bytes:m,rate:d||void 0,estimated:d&&l&&c?(l-i)/d:void 0,event:o,lengthComputable:l!=null,[s?"download":"upload"]:!0};r(g)},t)},_t=(r,s)=>{const t=r!=null;return[a=>s[0]({lengthComputable:t,total:r,loaded:a}),s[1]]},Ht=r=>(...s)=>x.asap(()=>r(...s)),Ma=B.hasStandardBrowserEnv?((r,s)=>t=>(t=new URL(t,B.origin),r.protocol===t.protocol&&r.host===t.host&&(s||r.port===t.port)))(new URL(B.origin),B.navigator&&/(msie|trident)/i.test(B.navigator.userAgent)):()=>!0,Oa=B.hasStandardBrowserEnv?{write(r,s,t,a,n,o){const i=[r+"="+encodeURIComponent(s)];x.isNumber(t)&&i.push("expires="+new Date(t).toGMTString()),x.isString(a)&&i.push("path="+a),x.isString(n)&&i.push("domain="+n),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(r){const s=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Fa(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Ia(r,s){return s?r.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):r}function vs(r,s,t){let a=!Fa(s);return r&&(a||t==!1)?Ia(r,s):s}const qt=r=>r instanceof z?{...r}:r;function he(r,s){s=s||{};const t={};function a(d,c,g,b){return x.isPlainObject(d)&&x.isPlainObject(c)?x.merge.call({caseless:b},d,c):x.isPlainObject(c)?x.merge({},c):x.isArray(c)?c.slice():c}function n(d,c,g,b){if(x.isUndefined(c)){if(!x.isUndefined(d))return a(void 0,d,g,b)}else return a(d,c,g,b)}function o(d,c){if(!x.isUndefined(c))return a(void 0,c)}function i(d,c){if(x.isUndefined(c)){if(!x.isUndefined(d))return a(void 0,d)}else return a(void 0,c)}function l(d,c,g){if(g in s)return a(d,c);if(g in r)return a(void 0,d)}const m={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(d,c,g)=>n(qt(d),qt(c),g,!0)};return x.forEach(Object.keys({...r,...s}),function(c){const g=m[c]||n,b=g(r[c],s[c],c);x.isUndefined(b)&&g!==l||(t[c]=b)}),t}const Ss=r=>{const s=he({},r);let{data:t,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:o,headers:i,auth:l}=s;if(s.headers=i=z.from(i),s.url=bs(vs(s.baseURL,s.url,s.allowAbsoluteUrls),r.params,r.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),x.isFormData(t)){if(B.hasStandardBrowserEnv||B.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(x.isFunction(t.getHeaders)){const m=t.getHeaders(),d=["content-type","content-length"];Object.entries(m).forEach(([c,g])=>{d.includes(c.toLowerCase())&&i.set(c,g)})}}if(B.hasStandardBrowserEnv&&(a&&x.isFunction(a)&&(a=a(s)),a||a!==!1&&Ma(s.url))){const m=n&&o&&Oa.read(o);m&&i.set(n,m)}return s},Ba=typeof XMLHttpRequest<"u",Ua=Ba&&function(r){return new Promise(function(t,a){const n=Ss(r);let o=n.data;const i=z.from(n.headers).normalize();let{responseType:l,onUploadProgress:m,onDownloadProgress:d}=n,c,g,b,w,u;function f(){w&&w(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}let p=new XMLHttpRequest;p.open(n.method.toUpperCase(),n.url,!0),p.timeout=n.timeout;function N(){if(!p)return;const $=z.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),L={data:!l||l==="text"||l==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:$,config:r,request:p};ks(function(M){t(M),f()},function(M){a(M),f()},L),p=null}"onloadend"in p?p.onloadend=N:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(N)},p.onabort=function(){p&&(a(new k("Request aborted",k.ECONNABORTED,r,p)),p=null)},p.onerror=function(E){const L=E&&E.message?E.message:"Network Error",D=new k(L,k.ERR_NETWORK,r,p);D.event=E||null,a(D),p=null},p.ontimeout=function(){let E=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const L=n.transitional||js;n.timeoutErrorMessage&&(E=n.timeoutErrorMessage),a(new k(E,L.clarifyTimeoutError?k.ETIMEDOUT:k.ECONNABORTED,r,p)),p=null},o===void 0&&i.setContentType(null),"setRequestHeader"in p&&x.forEach(i.toJSON(),function(E,L){p.setRequestHeader(L,E)}),x.isUndefined(n.withCredentials)||(p.withCredentials=!!n.withCredentials),l&&l!=="json"&&(p.responseType=n.responseType),d&&([b,u]=Ke(d,!0),p.addEventListener("progress",b)),m&&p.upload&&([g,w]=Ke(m),p.upload.addEventListener("progress",g),p.upload.addEventListener("loadend",w)),(n.cancelToken||n.signal)&&(c=$=>{p&&(a(!$||$.type?new be(null,r,p):$),p.abort(),p=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const v=Aa(n.url);if(v&&B.protocols.indexOf(v)===-1){a(new k("Unsupported protocol "+v+":",k.ERR_BAD_REQUEST,r));return}p.send(o||null)})},_a=(r,s)=>{const{length:t}=r=r?r.filter(Boolean):[];if(s||t){let a=new AbortController,n;const o=function(d){if(!n){n=!0,l();const c=d instanceof Error?d:this.reason;a.abort(c instanceof k?c:new be(c instanceof Error?c.message:c))}};let i=s&&setTimeout(()=>{i=null,o(new k(`timeout ${s} of ms exceeded`,k.ETIMEDOUT))},s);const l=()=>{r&&(i&&clearTimeout(i),i=null,r.forEach(d=>{d.unsubscribe?d.unsubscribe(o):d.removeEventListener("abort",o)}),r=null)};r.forEach(d=>d.addEventListener("abort",o));const{signal:m}=a;return m.unsubscribe=()=>x.asap(l),m}},Ha=function*(r,s){let t=r.byteLength;if(t<s){yield r;return}let a=0,n;for(;a<t;)n=a+s,yield r.slice(a,n),a=n},qa=async function*(r,s){for await(const t of Wa(r))yield*Ha(t,s)},Wa=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const s=r.getReader();try{for(;;){const{done:t,value:a}=await s.read();if(t)break;yield a}}finally{await s.cancel()}},Wt=(r,s,t,a)=>{const n=qa(r,s);let o=0,i,l=m=>{i||(i=!0,a&&a(m))};return new ReadableStream({async pull(m){try{const{done:d,value:c}=await n.next();if(d){l(),m.close();return}let g=c.byteLength;if(t){let b=o+=g;t(b)}m.enqueue(new Uint8Array(c))}catch(d){throw l(d),d}},cancel(m){return l(m),n.return()}},{highWaterMark:2})},zt=64*1024,{isFunction:Be}=x,za=(({Request:r,Response:s})=>({Request:r,Response:s}))(x.global),{ReadableStream:Vt,TextEncoder:Kt}=x.global,Jt=(r,...s)=>{try{return!!r(...s)}catch{return!1}},Va=r=>{r=x.merge.call({skipUndefined:!0},za,r);const{fetch:s,Request:t,Response:a}=r,n=s?Be(s):typeof fetch=="function",o=Be(t),i=Be(a);if(!n)return!1;const l=n&&Be(Vt),m=n&&(typeof Kt=="function"?(u=>f=>u.encode(f))(new Kt):async u=>new Uint8Array(await new t(u).arrayBuffer())),d=o&&l&&Jt(()=>{let u=!1;const f=new t(B.origin,{body:new Vt,method:"POST",get duplex(){return u=!0,"half"}}).headers.has("Content-Type");return u&&!f}),c=i&&l&&Jt(()=>x.isReadableStream(new a("").body)),g={stream:c&&(u=>u.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(u=>{!g[u]&&(g[u]=(f,p)=>{let N=f&&f[u];if(N)return N.call(f);throw new k(`Response type '${u}' is not supported`,k.ERR_NOT_SUPPORT,p)})});const b=async u=>{if(u==null)return 0;if(x.isBlob(u))return u.size;if(x.isSpecCompliantForm(u))return(await new t(B.origin,{method:"POST",body:u}).arrayBuffer()).byteLength;if(x.isArrayBufferView(u)||x.isArrayBuffer(u))return u.byteLength;if(x.isURLSearchParams(u)&&(u=u+""),x.isString(u))return(await m(u)).byteLength},w=async(u,f)=>{const p=x.toFiniteNumber(u.getContentLength());return p??b(f)};return async u=>{let{url:f,method:p,data:N,signal:v,cancelToken:$,timeout:E,onDownloadProgress:L,onUploadProgress:D,responseType:M,headers:ee,withCredentials:C="same-origin",fetchOptions:O}=Ss(u),Y=s||fetch;M=M?(M+"").toLowerCase():"text";let Q=_a([v,$&&$.toAbortSignal()],E),U=null;const F=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let R;try{if(D&&d&&p!=="get"&&p!=="head"&&(R=await w(ee,N))!==0){let V=new t(f,{method:"POST",body:N,duplex:"half"}),X;if(x.isFormData(N)&&(X=V.headers.get("content-type"))&&ee.setContentType(X),V.body){const[ie,H]=_t(R,Ke(Ht(D)));N=Wt(V.body,zt,ie,H)}}x.isString(C)||(C=C?"include":"omit");const T=o&&"credentials"in t.prototype,I={...O,signal:Q,method:p.toUpperCase(),headers:ee.normalize().toJSON(),body:N,duplex:"half",credentials:T?C:void 0};U=o&&new t(f,I);let _=await(o?Y(U,O):Y(f,I));const le=c&&(M==="stream"||M==="response");if(c&&(L||le&&F)){const V={};["status","statusText","headers"].forEach(oe=>{V[oe]=_[oe]});const X=x.toFiniteNumber(_.headers.get("content-length")),[ie,H]=L&&_t(X,Ke(Ht(L),!0))||[];_=new a(Wt(_.body,zt,ie,()=>{H&&H(),F&&F()}),V)}M=M||"text";let we=await g[x.findKey(g,M)||"text"](_,u);return!le&&F&&F(),await new Promise((V,X)=>{ks(V,X,{data:we,headers:z.from(_.headers),status:_.status,statusText:_.statusText,config:u,request:U})})}catch(T){throw F&&F(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new k("Network Error",k.ERR_NETWORK,u,U),{cause:T.cause||T}):k.from(T,T&&T.code,u,U)}}},Ka=new Map,$s=r=>{let s=r?r.env:{};const{fetch:t,Request:a,Response:n}=s,o=[a,n,t];let i=o.length,l=i,m,d,c=Ka;for(;l--;)m=o[l],d=c.get(m),d===void 0&&c.set(m,d=l?new Map:Va(s)),c=d;return d};$s();const gt={http:da,xhr:Ua,fetch:{get:$s}};x.forEach(gt,(r,s)=>{if(r){try{Object.defineProperty(r,"name",{value:s})}catch{}Object.defineProperty(r,"adapterName",{value:s})}});const Yt=r=>`- ${r}`,Ja=r=>x.isFunction(r)||r===null||r===!1,Rs={getAdapter:(r,s)=>{r=x.isArray(r)?r:[r];const{length:t}=r;let a,n;const o={};for(let i=0;i<t;i++){a=r[i];let l;if(n=a,!Ja(a)&&(n=gt[(l=String(a)).toLowerCase()],n===void 0))throw new k(`Unknown adapter '${l}'`);if(n&&(x.isFunction(n)||(n=n.get(s))))break;o[l||"#"+i]=n}if(!n){const i=Object.entries(o).map(([m,d])=>`adapter ${m} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=t?i.length>1?`since :
`+i.map(Yt).join(`
`):" "+Yt(i[0]):"as no adapter specified";throw new k("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:gt};function it(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new be(null,r)}function Qt(r){return it(r),r.headers=z.from(r.headers),r.data=nt.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Rs.getAdapter(r.adapter||Me.adapter,r)(r).then(function(a){return it(r),a.data=nt.call(r,r.transformResponse,a),a.headers=z.from(a.headers),a},function(a){return Ns(a)||(it(r),a&&a.response&&(a.response.data=nt.call(r,r.transformResponse,a.response),a.response.headers=z.from(a.response.headers))),Promise.reject(a)})}const Es="1.12.2",Ge={};["object","boolean","number","function","string","symbol"].forEach((r,s)=>{Ge[r]=function(a){return typeof a===r||"a"+(s<1?"n ":" ")+r}});const Xt={};Ge.transitional=function(s,t,a){function n(o,i){return"[Axios v"+Es+"] Transitional option '"+o+"'"+i+(a?". "+a:"")}return(o,i,l)=>{if(s===!1)throw new k(n(i," has been removed"+(t?" in "+t:"")),k.ERR_DEPRECATED);return t&&!Xt[i]&&(Xt[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),s?s(o,i,l):!0}};Ge.spelling=function(s){return(t,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function Ya(r,s,t){if(typeof r!="object")throw new k("options must be an object",k.ERR_BAD_OPTION_VALUE);const a=Object.keys(r);let n=a.length;for(;n-- >0;){const o=a[n],i=s[o];if(i){const l=r[o],m=l===void 0||i(l,o,r);if(m!==!0)throw new k("option "+o+" must be "+m,k.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new k("Unknown option "+o,k.ERR_BAD_OPTION)}}const qe={assertOptions:Ya,validators:Ge},se=qe.validators;let xe=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Bt,response:new Bt}}async request(s,t){try{return await this._request(s,t)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(s,t){typeof s=="string"?(t=t||{},t.url=s):t=s||{},t=he(this.defaults,t);const{transitional:a,paramsSerializer:n,headers:o}=t;a!==void 0&&qe.assertOptions(a,{silentJSONParsing:se.transitional(se.boolean),forcedJSONParsing:se.transitional(se.boolean),clarifyTimeoutError:se.transitional(se.boolean)},!1),n!=null&&(x.isFunction(n)?t.paramsSerializer={serialize:n}:qe.assertOptions(n,{encode:se.function,serialize:se.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),qe.assertOptions(t,{baseUrl:se.spelling("baseURL"),withXsrfToken:se.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&x.merge(o.common,o[t.method]);o&&x.forEach(["delete","get","head","post","put","patch","common"],u=>{delete o[u]}),t.headers=z.concat(i,o);const l=[];let m=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(t)===!1||(m=m&&f.synchronous,l.unshift(f.fulfilled,f.rejected))});const d=[];this.interceptors.response.forEach(function(f){d.push(f.fulfilled,f.rejected)});let c,g=0,b;if(!m){const u=[Qt.bind(this),void 0];for(u.unshift(...l),u.push(...d),b=u.length,c=Promise.resolve(t);g<b;)c=c.then(u[g++],u[g++]);return c}b=l.length;let w=t;for(;g<b;){const u=l[g++],f=l[g++];try{w=u(w)}catch(p){f.call(this,p);break}}try{c=Qt.call(this,w)}catch(u){return Promise.reject(u)}for(g=0,b=d.length;g<b;)c=c.then(d[g++],d[g++]);return c}getUri(s){s=he(this.defaults,s);const t=vs(s.baseURL,s.url,s.allowAbsoluteUrls);return bs(t,s.params,s.paramsSerializer)}};x.forEach(["delete","get","head","options"],function(s){xe.prototype[s]=function(t,a){return this.request(he(a||{},{method:s,url:t,data:(a||{}).data}))}});x.forEach(["post","put","patch"],function(s){function t(a){return function(o,i,l){return this.request(he(l||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}xe.prototype[s]=t(),xe.prototype[s+"Form"]=t(!0)});let Qa=class Cs{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const a=this;this.promise.then(n=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](n);a._listeners=null}),this.promise.then=n=>{let o;const i=new Promise(l=>{a.subscribe(l),o=l}).then(n);return i.cancel=function(){a.unsubscribe(o)},i},s(function(o,i,l){a.reason||(a.reason=new be(o,i,l),t(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const t=this._listeners.indexOf(s);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const s=new AbortController,t=a=>{s.abort(a)};return this.subscribe(t),s.signal.unsubscribe=()=>this.unsubscribe(t),s.signal}static source(){let s;return{token:new Cs(function(n){s=n}),cancel:s}}};function Xa(r){return function(t){return r.apply(null,t)}}function Ga(r){return x.isObject(r)&&r.isAxiosError===!0}const pt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pt).forEach(([r,s])=>{pt[s]=r});function Ls(r){const s=new xe(r),t=os(xe.prototype.request,s);return x.extend(t,xe.prototype,s,{allOwnKeys:!0}),x.extend(t,s,null,{allOwnKeys:!0}),t.create=function(n){return Ls(he(r,n))},t}const A=Ls(Me);A.Axios=xe;A.CanceledError=be;A.CancelToken=Qa;A.isCancel=Ns;A.VERSION=Es;A.toFormData=Xe;A.AxiosError=k;A.Cancel=A.CanceledError;A.all=function(s){return Promise.all(s)};A.spread=Xa;A.isAxiosError=Ga;A.mergeConfig=he;A.AxiosHeaders=z;A.formToJSON=r=>ws(x.isHTMLForm(r)?new FormData(r):r);A.getAdapter=Rs.getAdapter;A.HttpStatusCode=pt;A.default=A;const{Axios:yn,AxiosError:bn,CanceledError:jn,isCancel:wn,CancelToken:Nn,VERSION:kn,all:vn,Cancel:Sn,isAxiosError:$n,spread:Rn,toFormData:En,AxiosHeaders:Cn,HttpStatusCode:Ln,formToJSON:Pn,getAdapter:An,mergeConfig:Tn}=A;class Za{client;constructor(){this.client=A.create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(s=>{const t=localStorage.getItem("token");return t&&(s.headers.Authorization=`Bearer ${t}`),s},s=>Promise.reject(s)),this.client.interceptors.response.use(s=>s,s=>(s.response?.status===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(s)))}async get(s,t){try{return(await this.client.get(s,t)).data}catch(a){return this.handleError(a)}}async post(s,t,a){try{return(await this.client.post(s,t,a)).data}catch(n){return this.handleError(n)}}async put(s,t,a){try{return(await this.client.put(s,t,a)).data}catch(n){return this.handleError(n)}}async delete(s,t){try{return(await this.client.delete(s,t)).data}catch(a){return this.handleError(a)}}handleError(s){return console.error("API Error:",s),s.response?.data?{success:!1,message:s.response.data.message||"An error occurred",errors:s.response.data.errors}:s.request?{success:!1,message:"Network error. Please check your connection."}:{success:!1,message:"An unexpected error occurred"}}setAuthToken(s){this.client.defaults.headers.common.Authorization=`Bearer ${s}`}clearAuthToken(){delete this.client.defaults.headers.common.Authorization}}const P=new Za;class en{async login(s,t){const a={email:s,password:t};return await P.post("/auth/login",a)}async register(s,t,a,n,o="user"){const i={email:s,password:t,firstName:a,lastName:n,role:o};return await P.post("/auth/register",i)}async getProfile(s){try{P.setAuthToken(s);const t=await P.get("/auth/profile");return t.success&&t.data?t.data.user:null}catch(t){return console.error("Error getting profile:",t),null}}async updateProfile(s,t){return P.setAuthToken(t),await P.put("/auth/profile",s)}async changePassword(s,t,a){P.setAuthToken(a);const n={currentPassword:s,newPassword:t};return await P.put("/auth/password",n)}async deactivateAccount(s){return P.setAuthToken(s),await P.delete("/auth/account")}logout(){P.clearAuthToken(),localStorage.removeItem("token")}}const Ue=new en,Ps=y.createContext(void 0);function tn({children:r}){const[s,t]=y.useState(null),[a,n]=y.useState(null),[o,i]=y.useState(!0);y.useEffect(()=>{l()},[]);const l=async()=>{try{const w=localStorage.getItem("token");if(w){const u=await Ue.getProfile(w);u?(t(u),n(w)):localStorage.removeItem("token")}}catch(w){console.error("Error initializing auth:",w),localStorage.removeItem("token")}finally{i(!1)}},b={user:s,token:a,loading:o,login:async(w,u)=>{try{i(!0);const f=await Ue.login(w,u);return f.success&&f.data?(t(f.data.user),n(f.data.token),localStorage.setItem("token",f.data.token),!0):!1}catch(f){return console.error("Login error:",f),!1}finally{i(!1)}},register:async(w,u,f,p)=>{try{i(!0);const N=await Ue.register(w,u,f,p);return N.success&&N.data?(t(N.data.user),n(N.data.token),localStorage.setItem("token",N.data.token),!0):!1}catch(N){return console.error("Register error:",N),!1}finally{i(!1)}},logout:()=>{t(null),n(null),localStorage.removeItem("token")},updateProfile:async w=>{try{if(!a)return!1;const u=await Ue.updateProfile(w,a);return u.success&&u.data?(t(u.data.user),!0):!1}catch(u){return console.error("Update profile error:",u),!1}}};return e.jsx(Ps.Provider,{value:b,children:r})}function ge(){const r=y.useContext(Ps);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}const As=y.createContext(void 0);function sn({children:r}){const[s,t]=y.useState(()=>{const n=localStorage.getItem("theme");return n==="dark"||n==="light"?n:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});y.useEffect(()=>{const n=document.documentElement;s==="dark"?(n.classList.add("dark"),localStorage.setItem("theme","dark")):(n.classList.remove("dark"),localStorage.setItem("theme","light"))},[s]);const a=()=>{t(n=>n==="light"?"dark":"light")};return e.jsx(As.Provider,{value:{theme:s,toggleTheme:a,isDark:s==="dark"},children:r})}function je(){const r=y.useContext(As);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r}const rn=()=>{const{user:r,login:s,register:t,loading:a}=ge(),[n,o]=y.useState(!0),[i,l]=y.useState({email:"",password:"",firstName:"",lastName:""}),[m,d]=y.useState(""),[c,g]=y.useState(!1);if(r)return e.jsx(ft,{to:"/dashboard",replace:!0});const b=f=>{const{name:p,value:N}=f.target;l(v=>({...v,[p]:N})),m&&d("")},w=async f=>{f.preventDefault(),g(!0),d("");try{let p=!1;if(n)p=await s(i.email,i.password);else{if(!i.firstName||!i.lastName){d("First name and last name are required for registration");return}p=await t(i.email,i.password,i.firstName,i.lastName)}p||d(n?"Invalid email or password":"Registration failed. Please try again.")}catch{d("An unexpected error occurred. Please try again.")}finally{g(!1)}},u=()=>{o(!n),d(""),l({email:"",password:"",firstName:"",lastName:""})};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-12 w-12 bg-primary-600 rounded-full flex items-center justify-center",children:e.jsx(Pt,{className:"h-6 w-6 text-white"})}),e.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:n?"Sign in to your account":"Create your account"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n?"Access your burnout risk prediction dashboard":"Get started with burnout risk prediction"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[e.jsxs("div",{className:"space-y-4",children:[!n&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"label",children:"First Name"}),e.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!n,value:i.firstName,onChange:b,className:"input",placeholder:"Enter your first name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"label",children:"Last Name"}),e.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!n,value:i.lastName,onChange:b,className:"input",placeholder:"Enter your last name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"label",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i.email,onChange:b,className:"input",placeholder:"Enter your email address"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"label",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:n?"current-password":"new-password",required:!0,value:i.password,onChange:b,className:"input",placeholder:"Enter your password",minLength:6})]})]}),m&&e.jsxs("div",{className:"bg-danger-50 border border-danger-200 rounded-lg p-4 flex items-center",children:[e.jsx(Qs,{className:"h-5 w-5 text-danger-600 mr-3"}),e.jsx("p",{className:"text-danger-700 text-sm",children:m})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:c||a,className:"btn-primary w-full py-3 text-base",children:c?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"spinner mr-2"}),n?"Signing in...":"Creating account..."]}):e.jsx("div",{className:"flex items-center justify-center",children:n?e.jsxs(e.Fragment,{children:[e.jsx(Pt,{className:"h-5 w-5 mr-2"}),"Sign In"]}):e.jsxs(e.Fragment,{children:[e.jsx(Xs,{className:"h-5 w-5 mr-2"}),"Create Account"]})})})}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:u,className:"text-primary-600 hover:text-primary-500 text-sm font-medium",children:n?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),e.jsxs("div",{className:"text-center text-xs text-gray-500",children:[e.jsx("p",{children:"Created by Balaji Koneti"}),e.jsx("p",{children:"AI-powered burnout risk prediction for hybrid and remote teams"})]})]})})};class an{async getDashboardData(){try{const s=await P.get("/dashboard/employee");if(s.success&&s.data){const t=s.data;return{userId:t.userId,riskLevel:t.riskLevel,riskScore:t.riskScore,confidence:t.confidence||.85,factors:t.factors,recommendations:t.recommendations,workPatterns:t.workPatterns,dataPoints:{calendarEvents:t.dailySummary?.meetingsAttended||0,emailMessages:t.dailySummary?.emailsResponded||0,meetings:t.dailySummary?.meetingsAttended||0,tasksCompleted:0}}}return this.getMockDashboardData()}catch(s){return console.error("Error fetching dashboard data:",s),this.getMockDashboardData()}}async getEmployeeDashboard(s){try{const t=s?`/dashboard/employee?userId=${s}`:"/dashboard/employee",a=await P.get(t);if(a.success&&a.data){const n=a.data;return{userId:n.userId,riskLevel:n.riskLevel,riskScore:n.riskScore,confidence:n.confidence||.85,factors:n.factors,recommendations:n.recommendations,workPatterns:n.workPatterns,dataPoints:{calendarEvents:n.dailySummary?.meetingsAttended||0,emailMessages:n.dailySummary?.emailsResponded||0,meetings:n.dailySummary?.meetingsAttended||0,tasksCompleted:0}}}return null}catch(t){return console.error("Error fetching employee dashboard:",t),null}}async getProfileOverview(s){try{const t=s?`/dashboard/profile?userId=${s}`:"/dashboard/profile",a=await P.get(t);return a.success&&a.data?a.data:null}catch(t){return console.error("Error fetching profile overview:",t),null}}async simulateBurnoutRisk(s){try{const t=await P.post("/dashboard/simulate",s);return t.success&&t.data?t.data:null}catch(t){return console.error("Error simulating burnout risk:",t),null}}_calculateRiskScore(s){const{workHoursPerWeek:t=40,stressLevel:a=5,workloadScore:n=5,workLifeBalance:o=5,overtimeHours:i=0,deadlinePressure:l=5,sleepQuality:m=5,exerciseFrequency:d=5,nutritionQuality:c=5,socialSupport:g=5,jobSatisfaction:b=5}=s,w=[(t-40)/30*.15,(a-5)/5*.2,(n-5)/5*.15,(5-o)/5*.1,i/20*.05,(l-5)/5*.1,(5-m)/5*.05,(5-d)/5*.03,(5-c)/5*.02,(5-g)/5*.03,(5-b)/5*.07];return Math.max(0,Math.min(1,w.reduce((u,f)=>u+f,0)))}_getRiskLevel(s){return s<.3?"low":s<.6?"medium":s<.8?"high":"critical"}_generateRecommendations(s,t){const a=[];return s==="low"?a.push({priority:"low",category:"health",title:"Continue Healthy Habits",description:"Keep maintaining your current work-life balance and stress management practices.",actionItems:["Continue current routine","Monitor stress levels","Maintain work boundaries"]}):s==="medium"?a.push({priority:"medium",category:"workload",title:"Reduce Workload Pressure",description:"Consider reducing your workload or improving time management to prevent burnout.",actionItems:["Prioritize tasks","Delegate when possible","Set realistic deadlines"]}):s==="high"?a.push({priority:"high",category:"stress",title:"Immediate Stress Reduction",description:"Your stress levels are concerning. Take immediate action to reduce pressure.",actionItems:["Take time off","Reduce work hours","Seek support from manager"]}):a.push({priority:"high",category:"health",title:"Critical Intervention Needed",description:"You are at high risk of burnout. Immediate intervention is required.",actionItems:["Contact HR immediately","Take extended leave","Seek professional help"]}),t.workHoursPerWeek>50&&a.push({priority:"high",category:"workload",title:"Reduce Work Hours",description:`You're working ${t.workHoursPerWeek} hours per week. Consider reducing to 40-45 hours.`,actionItems:["Set work hour limits","Avoid overtime","Improve efficiency"]}),t.stressLevel>7&&a.push({priority:"high",category:"stress",title:"Stress Management",description:"Your stress level is high. Implement stress reduction techniques.",actionItems:["Practice meditation","Take regular breaks","Exercise regularly"]}),t.workLifeBalance<4&&a.push({priority:"medium",category:"lifestyle",title:"Improve Work-Life Balance",description:"Your work-life balance needs attention. Set clear boundaries.",actionItems:["Set work hours","Avoid after-hours emails","Schedule personal time"]}),a}async getReportsData(s="30d"){try{const t=await P.get("/predictions/history?limit=30");if(t.data&&t.data.length>0){const a=t.data.map(n=>({date:new Date(n.predictionDate).toISOString().split("T")[0],riskScore:Math.round((n.riskScore||.5)*100),riskLevel:n.riskLevel||"medium"}));return{riskHistory:a,factorTrends:{workload:a.map(()=>Math.floor(Math.random()*4)+4),stressLevel:a.map(()=>Math.floor(Math.random()*4)+3),workLifeBalance:a.map(()=>Math.floor(Math.random()*4)+4),socialSupport:a.map(()=>Math.floor(Math.random()*3)+5),jobSatisfaction:a.map(()=>Math.floor(Math.random()*3)+5)},insights:[{type:"info",title:"Risk Assessment Complete",description:`Your current risk level is ${a[0]?.riskLevel||"medium"}.`,impact:"positive"}]}}return this.getMockReportsData()}catch(t){return console.error("Error fetching reports data:",t),this.getMockReportsData()}}async getAllUsers(){try{return(await P.get("/users")).data||[]}catch(s){return console.error("Error fetching users:",s),[]}}async getUserById(s){try{return(await P.get(`/users/${s}`)).data||null}catch(t){return console.error("Error fetching user:",t),null}}async getAllPredictions(){try{const s=await P.get("/predictions/history"),t=s.data?.predictions||s.data||[];return console.log("Fetched predictions:",t.length),t.length>0&&console.log("Sample prediction:",{id:t[0].id,userId:t[0].userId,riskLevel:t[0].riskLevel,riskScore:t[0].riskScore}),t}catch(s){return console.error("Error fetching predictions:",s),[]}}async getAdminDashboardData(){try{const[s,t]=await Promise.all([this.getAllUsers(),this.getAllPredictions()]);if(s.length===0)return this.getMockAdminDashboardData();const a=this.calculateAdminStats(s,t);return console.log("Admin dashboard stats calculated:",a),console.log("Users count:",s.length),console.log("Predictions count:",t.length),{users:s,predictions:t,stats:a}}catch(s){return console.error("Error fetching admin dashboard data:",s),this.getMockAdminDashboardData()}}calculateAdminStats(s,t){const a=s.length;let n=0,o=0,i=0,l=0;const m=new Map;t.forEach(c=>{const g=c.userId?.toString()||c.userId;if(g){const b=m.get(g);(!b||new Date(c.predictionDate)>new Date(b.predictionDate))&&m.set(g,c)}}),m.forEach(c=>{switch(c.riskLevel?.toLowerCase()){case"low":n++;break;case"medium":o++;break;case"high":i++;break;case"critical":l++;break}});const d=m.size;return d<a&&(o+=a-d),{totalUsers:a,lowRisk:n,mediumRisk:o,highRisk:i,criticalRisk:l}}getMockAdminDashboardData(){const s=[],t=[];for(let n=1;n<=61;n++){const o=n<=10,i=n===1,l=i?"admin":o?"manager":"user",m=["Engineering","Marketing","Sales","HR","Finance","Operations","Product"],d={Engineering:["Software Engineer","Senior Software Engineer","Tech Lead","Engineering Manager"],Marketing:["Marketing Specialist","Content Creator","Marketing Manager"],Sales:["Sales Representative","Account Manager","Sales Manager"],HR:["HR Specialist","Recruiter","HR Manager"],Finance:["Financial Analyst","Accountant","Finance Manager"],Operations:["Operations Analyst","Logistics Coordinator","Operations Manager"],Product:["Product Manager","Product Owner","UX Designer"]},c=m[Math.floor(Math.random()*m.length)],g=d[c]?.[Math.floor(Math.random()*(d[c]?.length||1))]||"Employee",b={_id:`user-${n}`,email:i?"admin@burnout-prediction.com":o?`manager${n}@company.com`:`employee${n}@company.com`,firstName:i?"Admin":`User${n}`,lastName:i?"User":`Last${n}`,role:l,department:c,jobTitle:g,experienceYears:i?15:o?10+Math.floor(Math.random()*15):Math.floor(Math.random()*10)+1,isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),workPatterns:{workHoursPerWeek:o?45+Math.floor(Math.random()*15):35+Math.floor(Math.random()*15),meetingHoursPerWeek:o?15+Math.floor(Math.random()*15):5+Math.floor(Math.random()*15),emailCountPerDay:30+Math.floor(Math.random()*120),stressLevel:Math.floor(Math.random()*10)+1,workloadScore:Math.floor(Math.random()*10)+1,workLifeBalance:Math.floor(Math.random()*10)+1,teamSize:o?3+Math.floor(Math.random()*12):void 0,remoteWorkPercentage:Math.floor(Math.random()*100),overtimeHours:Math.floor(Math.random()*20),deadlinePressure:Math.floor(Math.random()*10)+1,sleepQuality:Math.floor(Math.random()*10)+1,exerciseFrequency:Math.floor(Math.random()*10)+1,nutritionQuality:Math.floor(Math.random()*10)+1,socialSupport:Math.floor(Math.random()*10)+1,jobSatisfaction:Math.floor(Math.random()*10)+1}};s.push(b);const w=["low","medium","high","critical"],u=w[Math.floor(Math.random()*w.length)],f=Math.floor(Math.random()*100);t.push({id:`prediction-${n}`,userId:b._id,riskLevel:u,riskScore:f,confidence:.7+Math.random()*.2,predictionDate:new Date().toISOString()})}const a=this.calculateAdminStats(s,t);return{users:s,predictions:t,stats:a}}getMockDashboardData(){return{userId:"current-user",riskLevel:"medium",riskScore:65,confidence:.85,factors:{workload:7,stressLevel:6,workLifeBalance:5,socialSupport:6,jobSatisfaction:7,physicalHealth:6,mentalHealth:5,sleepQuality:6,exerciseFrequency:4,nutritionQuality:5},recommendations:[{priority:"high",category:"workload",title:"Reduce Meeting Overload",description:"You have 15+ meetings this week. Consider consolidating or eliminating unnecessary meetings.",actionItems:["Audit your meetings and cancel unnecessary ones","Combine related meetings when possible","Set meeting time limits and stick to them"]},{priority:"medium",category:"lifestyle",title:"Improve Work-Life Balance",description:"Your work-life balance needs attention. Set clear boundaries between work and personal time.",actionItems:["Set specific work hours and stick to them","Avoid checking work emails outside of work hours","Schedule regular personal time and activities"]}],dataPoints:{calendarEvents:25,emailMessages:120,meetings:12,tasksCompleted:18}}}getMockReportsData(){return{riskHistory:[{date:"2024-01-01",riskScore:45,riskLevel:"low"},{date:"2024-01-08",riskScore:52,riskLevel:"medium"},{date:"2024-01-15",riskScore:48,riskLevel:"low"},{date:"2024-01-22",riskScore:65,riskLevel:"medium"},{date:"2024-01-29",riskScore:58,riskLevel:"medium"}],factorTrends:{workload:[6,7,5,8,7],stressLevel:[4,5,3,7,6],workLifeBalance:[7,6,8,4,5],socialSupport:[6,5,7,5,6],jobSatisfaction:[7,6,8,5,6]},insights:[{type:"warning",title:"Workload Spike Detected",description:"Your workload increased by 25% this week compared to last week.",impact:"medium"},{type:"info",title:"Stress Management Improving",description:"Your stress levels have decreased by 15% over the past month.",impact:"positive"},{type:"alert",title:"Work-Life Balance Declining",description:"Your work-life balance score has dropped below the recommended threshold.",impact:"high"}]}}}const ue=new an,Ts=({data:r,onViewDetails:s})=>{const t=b=>{switch(b){case"low":return{bg:"bg-success-50",border:"border-success-200",text:"text-success-700",icon:"text-success-600"};case"medium":return{bg:"bg-warning-50",border:"border-warning-200",text:"text-warning-700",icon:"text-warning-600"};case"high":return{bg:"bg-danger-50",border:"border-danger-200",text:"text-danger-700",icon:"text-danger-600"};case"critical":return{bg:"bg-critical-50",border:"border-critical-200",text:"text-critical-700",icon:"text-critical-600"};default:return{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-700",icon:"text-gray-600"}}},a=b=>{switch(b){case"low":return e.jsx(G,{className:"h-8 w-8 text-success-600"});case"medium":return e.jsx(re,{className:"h-8 w-8 text-warning-600"});case"high":return e.jsx(re,{className:"h-8 w-8 text-danger-600"});case"critical":return e.jsx(re,{className:"h-8 w-8 text-critical-600"});default:return e.jsx(re,{className:"h-8 w-8 text-gray-600"})}},n=b=>{switch(b){case"low":return"You are managing your workload well and maintaining a healthy work-life balance.";case"medium":return"You are showing some signs of stress. Consider making small adjustments to prevent burnout.";case"high":return"You are at significant risk of burnout. Immediate action is recommended to improve your well-being.";case"critical":return"You are at critical risk of burnout. Please seek professional help and take immediate steps to reduce stress.";default:return"Risk assessment in progress..."}},o=b=>{switch(b>60?"increasing":b<40?"decreasing":"stable"){case"increasing":return e.jsxs("div",{className:"flex items-center text-danger-600",children:[e.jsx(Pe,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:"Increasing"})]});case"decreasing":return e.jsxs("div",{className:"flex items-center text-success-600",children:[e.jsx(Gs,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:"Decreasing"})]});default:return e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx("div",{className:"h-4 w-4 mr-1 bg-gray-400 rounded-full"}),e.jsx("span",{className:"text-sm font-medium",children:"Stable"})]})}},i=r?.riskLevel||"unknown",l=r?.riskScore||0,m=r?.confidence??0,d=t(i),c=y.useMemo(()=>{if(typeof m!="number"||Number.isNaN(m))return 0;const b=m<=1?m*100:m;return Math.min(100,Math.max(0,b))},[m]),g=y.useCallback(()=>{r&&s&&s()},[r,s]);return e.jsxs("div",{className:`card border-l-4 dark:bg-gray-800 dark:border-gray-700 ${d.border} transition-colors duration-200`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[a(i),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Burnout Risk Assessment"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Last updated: ",new Date().toLocaleDateString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${d.bg} ${d.text} dark:bg-opacity-20`,children:i.toUpperCase()}),o(l)]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Risk Score"}),e.jsxs("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[l,"/100"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4",children:e.jsx("div",{className:`h-4 rounded-full transition-all duration-1000 ${l>=75?"bg-critical-500":l>=50?"bg-danger-500":l>=25?"bg-warning-500":"bg-success-500"}`,style:{width:`${l}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:"Low (0-25)"}),e.jsx("span",{children:"Medium (26-50)"}),e.jsx("span",{children:"High (51-75)"}),e.jsx("span",{children:"Critical (76-100)"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:`text-sm ${d.text} dark:text-opacity-90`,children:n(i)})}),e.jsxs("div",{className:`grid grid-cols-2 gap-4 pt-4 border-t ${d.border} dark:border-gray-700`,children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Confidence Level"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2 mr-2",children:e.jsx("div",{className:"bg-primary-500 h-2 rounded-full transition-all duration-500",style:{width:`${c}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[Math.round(c),"%"]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Data Points"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r?.dataPoints?Object.values(r.dataPoints).reduce((b,w)=>b+w,0):0}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-1",children:"analyzed"})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:g,className:"btn-primary w-full dark:bg-primary-600 dark:hover:bg-primary-700",type:"button",children:"View Detailed Analysis"})})]})},kt=({recommendations:r})=>{const{isDark:s}=je(),[t,a]=y.useState(new Set),n=m=>{const d=new Set(t);d.has(m)?d.delete(m):d.add(m),a(d)},o=m=>{switch(m){case"high":return{bg:"bg-danger-50",border:"border-danger-200",text:"text-danger-700",icon:"text-danger-600",badge:"bg-danger-100 text-danger-800"};case"medium":return{bg:"bg-warning-50",border:"border-warning-200",text:"text-warning-700",icon:"text-warning-600",badge:"bg-warning-100 text-warning-800"};case"low":return{bg:"bg-success-50",border:"border-success-200",text:"text-success-700",icon:"text-success-600",badge:"bg-success-100 text-success-800"};default:return{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-700",icon:"text-gray-600",badge:"bg-gray-100 text-gray-800"}}},i=m=>{switch(m){case"workload":return e.jsx(Ce,{className:"h-5 w-5"});case"stress":return e.jsx(re,{className:"h-5 w-5"});case"lifestyle":return e.jsx(G,{className:"h-5 w-5"});case"social":return e.jsx(G,{className:"h-5 w-5"});case"health":return e.jsx(G,{className:"h-5 w-5"});default:return e.jsx(G,{className:"h-5 w-5"})}},l=m=>{switch(m){case"workload":return"Workload Management";case"stress":return"Stress Management";case"lifestyle":return"Lifestyle";case"social":return"Social Support";case"health":return"Health & Wellness";default:return"General"}};return!r||r.length===0?e.jsxs("div",{className:"card dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recommendations"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(G,{className:"h-12 w-12 text-success-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No specific recommendations at this time."}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:"Keep monitoring your well-being and maintain healthy habits."})]})]}):e.jsxs("div",{className:"card dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Personalized Recommendations"}),e.jsx("div",{className:"space-y-4",children:r.map((m,d)=>{const c=t.has(d),g=o(m.priority);return e.jsxs("div",{className:`border rounded-lg ${g.border} ${g.bg} transition-all duration-200`,children:[e.jsx("div",{className:"p-4 cursor-pointer",onClick:()=>n(d),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:g.icon,children:i(m.category)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:m.title}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g.badge}`,children:m.priority.toUpperCase()}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:l(m.category)})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[m.actionItems.length," actions"]}),c?e.jsx(Zs,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}):e.jsx(er,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"})]})]})}),c&&e.jsxs("div",{className:`px-4 pb-4 border-t ${s?"border-gray-700":"border-gray-200"}`,children:[e.jsx("p",{className:`text-sm mt-4 ${g.text} dark:text-opacity-90`,children:m.description}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Action Items:"}),e.jsx("ul",{className:"space-y-2",children:m.actionItems.map((b,w)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(G,{className:"h-4 w-4 text-success-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:b})]},w))})]}),m.resources&&m.resources.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Resources:"}),e.jsx("div",{className:"space-y-1",children:m.resources.map((b,w)=>e.jsxs("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-sm text-primary-600 dark:text-primary-400 hover:text-primary-500 dark:hover:text-primary-300",children:[e.jsx(tr,{className:"h-3 w-3 mr-1"}),b]},w))})]})]})]},d)})}),e.jsx("div",{className:`mt-6 pt-4 border-t ${s?"border-gray-700":"border-gray-200"}`,children:e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"Recommendations are generated based on your current risk factors and patterns. Consider implementing these suggestions to improve your well-being."})})]})},vt=({data:r})=>{const{isDark:s}=je(),[t,a]=ts.useState("bar"),n=[{name:"Workload",value:r?.factors?.workload||0,color:"#ef4444"},{name:"Stress",value:r?.factors?.stressLevel||0,color:"#f59e0b"},{name:"Work-Life Balance",value:r?.factors?.workLifeBalance||0,color:"#22c55e"},{name:"Social Support",value:r?.factors?.socialSupport||0,color:"#3b82f6"},{name:"Job Satisfaction",value:r?.factors?.jobSatisfaction||0,color:"#8b5cf6"},{name:"Physical Health",value:r?.factors?.physicalHealth||0,color:"#06b6d4"},{name:"Mental Health",value:r?.factors?.mentalHealth||0,color:"#84cc16"},{name:"Sleep Quality",value:r?.factors?.sleepQuality||0,color:"#f97316"},{name:"Exercise",value:r?.factors?.exerciseFrequency||0,color:"#ec4899"},{name:"Nutrition",value:r?.factors?.nutritionQuality||0,color:"#10b981"}],o=[{date:"Week 1",riskScore:45,workload:6,stress:4},{date:"Week 2",riskScore:52,workload:7,stress:5},{date:"Week 3",riskScore:48,workload:5,stress:3},{date:"Week 4",riskScore:65,workload:8,stress:7},{date:"Week 5",riskScore:58,workload:7,stress:6}],i=({active:d,payload:c,label:g})=>d&&c&&c.length?e.jsxs("div",{className:`p-3 border rounded-lg shadow-lg ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("p",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:g}),e.jsxs("p",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:["Score: ",e.jsxs("span",{className:"font-medium",children:[c[0].value,"/10"]})]})]}):null,l=({active:d,payload:c,label:g})=>d&&c&&c.length?e.jsxs("div",{className:`p-3 border rounded-lg shadow-lg ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("p",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:g}),c.map((b,w)=>e.jsxs("p",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:[e.jsxs("span",{style:{color:b.color},children:[b.dataKey,":"]})," ",b.value]},w))]}):null,m=({active:d,payload:c})=>{if(d&&c&&c.length){const g=c[0];return e.jsxs("div",{className:`p-3 border rounded-lg shadow-lg ${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("p",{className:`font-medium ${s?"text-white":"text-gray-900"}`,children:g.name}),e.jsxs("p",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:["Score: ",e.jsxs("span",{className:"font-medium",children:[g.value,"/10"]})]})]})}return null};return e.jsxs("div",{className:"card dark:bg-gray-800 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:`text-lg font-semibold ${s?"text-white":"text-gray-900"}`,children:"Risk Factor Analysis"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>a("bar"),className:`p-2 rounded-lg transition-colors ${t==="bar"?"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}`,children:e.jsx(ae,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>a("line"),className:`p-2 rounded-lg transition-colors ${t==="line"?"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}`,children:e.jsx(Pe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>a("pie"),className:`p-2 rounded-lg transition-colors ${t==="pie"?"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"}`,children:e.jsx(rs,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"h-80",children:[t==="bar"&&e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(ns,{data:n,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(We,{strokeDasharray:"3 3",stroke:s?"#374151":"#f0f0f0"}),e.jsx(ze,{dataKey:"name",tick:{fontSize:12,fill:s?"#d1d5db":"#6b7280"},angle:-45,textAnchor:"end",height:80}),e.jsx(Ve,{domain:[0,10],tick:{fontSize:12,fill:s?"#d1d5db":"#6b7280"},label:{value:"Score (0-10)",angle:-90,position:"insideLeft",fill:s?"#d1d5db":"#6b7280"}}),e.jsx(Ee,{content:e.jsx(i,{})}),e.jsx(is,{dataKey:"value",radius:[4,4,0,0],children:n.map((d,c)=>e.jsx(At,{fill:d.color},`cell-${c}`))})]})}),t==="line"&&e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(pr,{data:o,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(We,{strokeDasharray:"3 3",stroke:s?"#374151":"#f0f0f0"}),e.jsx(ze,{dataKey:"date",tick:{fontSize:12,fill:s?"#d1d5db":"#6b7280"}}),e.jsx(Ve,{domain:[0,100],tick:{fontSize:12,fill:s?"#d1d5db":"#6b7280"},label:{value:"Score",angle:-90,position:"insideLeft",fill:s?"#d1d5db":"#6b7280"}}),e.jsx(Ee,{content:e.jsx(l,{})}),e.jsx(tt,{type:"monotone",dataKey:"riskScore",stroke:"#ef4444",strokeWidth:3,dot:{fill:"#ef4444",strokeWidth:2,r:4},name:"Risk Score"}),e.jsx(tt,{type:"monotone",dataKey:"workload",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b",strokeWidth:2,r:3},name:"Workload"}),e.jsx(tt,{type:"monotone",dataKey:"stress",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:3},name:"Stress"})]})}),t==="pie"&&e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(fr,{children:[e.jsx(yr,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:d,value:c})=>`${d}: ${c}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((d,c)=>e.jsx(At,{fill:d.color},`cell-${c}`))}),e.jsx(Ee,{content:e.jsx(m,{})})]})})]}),t==="line"&&e.jsxs("div",{className:"mt-4 flex justify-center space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsx("span",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:"Risk Score"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsx("span",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:"Workload"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),e.jsx("span",{className:`text-sm ${s?"text-gray-300":"text-gray-600"}`,children:"Stress"})]})]}),e.jsx("div",{className:`mt-6 pt-4 border-t ${s?"border-gray-700":"border-gray-200"}`,children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:s?"text-gray-400":"text-gray-600",children:"Highest Risk Factor:"}),e.jsx("span",{className:`ml-2 font-medium ${s?"text-white":"text-gray-900"}`,children:n.reduce((d,c)=>c.value>d.value?c:d,n[0])?.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:s?"text-gray-400":"text-gray-600",children:"Average Score:"}),e.jsxs("span",{className:`ml-2 font-medium ${s?"text-white":"text-gray-900"}`,children:[(n.reduce((d,c)=>d+c.value,0)/n.length).toFixed(1),"/10"]})]})]})})]})},pe={meetingHours:"Reducing meeting hours increases focus time and lowers burnout risk",workHours:"Working fewer hours per day improves work-life balance and reduces stress",sleepHours:"Getting 7-9 hours of sleep significantly improves recovery and lowers burnout risk",stressLevel:"Lower stress levels directly correlate with reduced burnout risk",workLifeBalance:"Better work-life balance improves overall well-being and prevents burnout",exerciseFrequency:"Regular exercise helps manage stress and improves mental health"},Ds=({userId:r,baseWorkPatterns:s})=>{const{user:t}=ge(),{isDark:a}=je(),[n,o]=y.useState(!1),[i,l]=y.useState(null),[m,d]=y.useState(null),[c,g]=y.useState(null),[b,w]=y.useState(s?.meetingHoursPerWeek?s.meetingHoursPerWeek/5:2),[u,f]=y.useState(s?.workHoursPerWeek?s.workHoursPerWeek/5:8),[p,N]=y.useState(s?.sleepHours||7),[v,$]=y.useState(s?.stressLevel||5),[E,L]=y.useState(s?.workLifeBalance||5),[D,M]=y.useState(s?.exerciseFrequency||5);y.useEffect(()=>{s&&(w(s.meetingHoursPerWeek?s.meetingHoursPerWeek/5:2),f(s.workHoursPerWeek?s.workHoursPerWeek/5:8),N(s.sleepHours||7),$(s.stressLevel||5),L(s.workLifeBalance||5),M(s.exerciseFrequency||5))},[s]);const ee=y.useCallback(async()=>{o(!0),d(null);try{const R=await ue.simulateBurnoutRisk({meetingHours:b*5,workHours:u*5,sleepHours:p,stressLevel:v,workLifeBalance:E,exerciseFrequency:D,userId:r||(t?.role==="manager"||t?.role==="admin",void 0)});R?(console.log("Simulation result received:",R),l(R),d(null)):(console.warn("Simulation returned null or undefined result"),l(null),d("Unable to load simulation data. Please ensure your employee profile is set up correctly."))}catch(R){console.error("Error running simulation:",R),l(null),d(R?.message||"Failed to run simulation. Please try again.")}finally{o(!1)}},[b,u,p,v,E,D,r,t]);y.useEffect(()=>{const R=setTimeout(()=>{ee()},300);return()=>clearTimeout(R)},[ee]),y.useEffect(()=>{const R=setTimeout(()=>{ee()},500);return()=>clearTimeout(R)},[]);const C=i?.changes?.riskScoreChange||0,O=i?.baseRiskScore||0,Y=i?.simulatedRiskScore||O,Q=y.useMemo(()=>{if(!i||C===0)return"Adjust the sliders to see how different work patterns affect your burnout risk.";const R=Math.abs(C);if(C<0){const I=[];p>=7&&I.push("maintaining balanced sleep"),v<6&&I.push("reducing stress"),E>=6&&I.push("improving work-life balance"),u<=8&&I.push("working reasonable hours");const _=I.length>0?I.slice(0,2).join(" and "):"these adjustments";return`Adjusting work patterns has improved your burnout score by ${R}%. ${I.length>0?`Maintaining ${_} can further lower your risk.`:"Continue monitoring your patterns to maintain this improvement."}`}else return`These adjustments increase your burnout risk by ${R}%. Consider reducing work hours, managing stress, or improving work-life balance to lower your risk.`},[i,C,p,v,E,u]),U=({label:R,value:T,min:I,max:_,step:le,onChange:we,formatValue:V,sliderKey:X,tooltip:ie})=>{const H=(T-I)/(_-I)*100;return e.jsxs("div",{className:"relative",onMouseEnter:()=>g(X),onMouseLeave:()=>g(null),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:`text-sm font-medium ${a?"text-gray-300":"text-gray-700"}`,children:R}),e.jsx("span",{className:`text-sm font-semibold bg-primary-50 dark:bg-primary-900/30 px-2 py-1 rounded ${a?"text-primary-400":"text-primary-600"}`,children:V(T)})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:I,max:_,step:le,value:T,onChange:oe=>we(parseFloat(oe.target.value)),className:`w-full h-3 rounded-full appearance-none cursor-pointer slider-custom ${a?"bg-gray-700":"bg-gray-200"}`,style:{background:`linear-gradient(to right, 
                #3b82f6 0%, 
                #3b82f6 ${H}%, 
                ${a?"#374151":"#e5e7eb"} ${H}%, 
                ${a?"#374151":"#e5e7eb"} 100%)`}}),c===X&&e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 dark:bg-gray-800 text-white dark:text-gray-200 text-xs rounded-lg shadow-lg z-10 whitespace-nowrap border border-gray-700",children:[ie,e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1",children:e.jsx("div",{className:"border-4 border-transparent border-t-gray-900 dark:border-t-gray-800"})})]})]})]})},F=R=>{switch(R?.toLowerCase()){case"critical":return"text-critical-600";case"high":return"text-danger-600";case"medium":return"text-warning-600";case"low":return"text-success-600";default:return"text-gray-600"}};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(sr,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"}),e.jsx("h2",{className:`text-xl font-semibold ${a?"text-white":"text-gray-800"}`,children:"Burnout Risk Simulation"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(U,{label:"Meeting Hours per Day",value:b,min:0,max:8,step:.5,onChange:w,formatValue:R=>`${R.toFixed(1)}h`,sliderKey:"meetingHours",tooltip:pe.meetingHours}),e.jsx(U,{label:"Work Hours per Day",value:u,min:4,max:12,step:.5,onChange:f,formatValue:R=>`${R.toFixed(1)}h`,sliderKey:"workHours",tooltip:pe.workHours}),e.jsx(U,{label:"Sleep Hours per Night",value:p,min:4,max:10,step:.5,onChange:N,formatValue:R=>`${R.toFixed(1)}h`,sliderKey:"sleepHours",tooltip:pe.sleepHours}),e.jsx(U,{label:"Stress Level (1-10)",value:v,min:1,max:10,step:1,onChange:$,formatValue:R=>`${R}`,sliderKey:"stressLevel",tooltip:pe.stressLevel}),e.jsx(U,{label:"Work-Life Balance (1-10)",value:E,min:1,max:10,step:1,onChange:L,formatValue:R=>`${R}`,sliderKey:"workLifeBalance",tooltip:pe.workLifeBalance}),e.jsx(U,{label:"Exercise Frequency (1-10)",value:D,min:1,max:10,step:1,onChange:M,formatValue:R=>`${R}`,sliderKey:"exerciseFrequency",tooltip:pe.exerciseFrequency})]}),e.jsxs("div",{className:`lg:pl-6 lg:border-l ${a?"border-gray-700":"border-gray-200"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-6 ${a?"text-white":"text-gray-900"}`,children:"Simulation Results"}),n?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 dark:border-primary-400 mb-3"}),e.jsx("p",{className:`text-sm ${a?"text-gray-400":"text-gray-600"}`,children:"Calculating..."})]}):m?e.jsxs("div",{className:`text-center py-8 ${a?"bg-red-900/20 border-red-700":"bg-red-50 border-red-200"} border rounded-lg p-4`,children:[e.jsx("p",{className:`text-sm font-medium mb-2 ${a?"text-red-400":"text-red-700"}`,children:"Simulation Error"}),e.jsx("p",{className:`text-xs ${a?"text-red-300":"text-red-600"} mb-2`,children:m}),m.includes("employeeId")||m.includes("mapping script")?e.jsx("p",{className:`text-xs mt-3 ${a?"text-gray-400":"text-gray-600"}`,children:" Tip: Contact your administrator to map your account to employee data."}):null]}):i?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:`rounded-lg p-5 border ${a?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:[e.jsx("p",{className:`text-sm font-medium mb-2 ${a?"text-gray-300":"text-gray-600"}`,children:"Base Risk Score"}),e.jsxs("div",{className:"flex items-baseline space-x-2",children:[e.jsxs("span",{className:`text-3xl font-bold ${a?"text-white":"text-gray-900"}`,children:[O,"%"]}),e.jsx("span",{className:`text-sm font-medium capitalize ${F(i.baseRiskLevel)}`,children:i.baseRiskLevel})]}),e.jsx("p",{className:`text-xs mt-1 ${a?"text-gray-400":"text-gray-500"}`,children:"Current predicted burnout risk"})]}),e.jsxs("div",{className:`rounded-lg p-5 border-2 transition-all duration-500 ${C<0?a?"bg-green-900/30 border-green-700":"bg-green-50 border-green-200":C>0?a?"bg-red-900/30 border-red-700":"bg-red-50 border-red-200":a?"bg-blue-900/30 border-blue-700":"bg-blue-50 border-blue-200"}`,children:[e.jsx("p",{className:`text-sm font-medium mb-2 ${a?"text-gray-300":"text-gray-700"}`,children:"Simulated Risk Score"}),e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxs("span",{className:`text-3xl font-bold ${C<0?"text-green-700 dark:text-green-400":C>0?"text-red-700 dark:text-red-400":"text-blue-700 dark:text-blue-400"}`,children:[Y,"%"]}),C!==0&&e.jsx("div",{className:`flex items-center space-x-1 ${C<0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:C<0?e.jsxs(e.Fragment,{children:[e.jsx(rr,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-semibold",children:"Improved"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ar,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-semibold",children:"Increased"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-sm font-medium capitalize ${C<0?"text-green-700 dark:text-green-400":C>0?"text-red-700 dark:text-red-400":F(i.simulatedRiskLevel)}`,children:i.simulatedRiskLevel}),C!==0&&e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${C<0?a?"bg-green-800 text-green-200":"bg-green-100 text-green-800":a?"bg-red-800 text-red-200":"bg-red-100 text-red-800"}`,children:[C>0?"+":"",C,"%"]})]}),e.jsx("p",{className:`text-xs mt-2 ${a?"text-gray-400":"text-gray-600"}`,children:"New predicted score after adjustments"})]}),e.jsx("div",{className:`rounded-lg p-4 border ${a?"bg-gray-700 border-gray-600":"bg-white border-gray-200"}`,children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(ot,{className:`h-4 w-4 flex-shrink-0 mt-0.5 ${a?"text-primary-400":"text-primary-600"}`}),e.jsx("p",{className:`text-sm leading-relaxed ${a?"text-gray-300":"text-gray-700"}`,children:Q})]})}),C!==0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:`flex justify-between text-xs ${a?"text-gray-400":"text-gray-600"}`,children:[e.jsx("span",{children:"Base Score"}),e.jsx("span",{children:"Simulated Score"})]}),e.jsxs("div",{className:`relative h-3 rounded-full overflow-hidden ${a?"bg-gray-700":"bg-gray-200"}`,children:[e.jsx("div",{className:`absolute top-0 left-0 h-full transition-all duration-1000 ease-out ${C<0?"bg-green-500":"bg-red-500"}`,style:{width:`${O}%`}}),e.jsx("div",{className:`absolute top-0 left-0 h-full transition-all duration-1000 ease-out opacity-50 ${C<0?"bg-green-600":"bg-red-600"}`,style:{width:`${Y}%`}})]})]})]}):e.jsx("div",{className:`text-center py-8 ${a?"text-gray-400":"text-gray-500"}`,children:e.jsx("p",{className:"text-sm",children:"Adjust sliders to see simulation results"})})]})]}),e.jsx("style",{children:`
        .slider-custom::-webkit-slider-thumb {
          appearance: none;
          width: 20px;
          height: 20px;
          border-radius: 50%;
          background: #3b82f6;
          cursor: pointer;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
          transition: all 0.2s ease;
        }
        .slider-custom::-webkit-slider-thumb:hover {
          background: #2563eb;
          transform: scale(1.1);
          box-shadow: 0 4px 8px rgba(59, 130, 246, 0.4);
        }
        .slider-custom::-moz-range-thumb {
          width: 20px;
          height: 20px;
          border-radius: 50%;
          background: #3b82f6;
          cursor: pointer;
          border: none;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
          transition: all 0.2s ease;
        }
        .slider-custom::-moz-range-thumb:hover {
          background: #2563eb;
          transform: scale(1.1);
          box-shadow: 0 4px 8px rgba(59, 130, 246, 0.4);
        }
      `})]})},Ms=({isOpen:r,onClose:s,data:t})=>{const{isDark:a}=je(),n=y.useMemo(()=>{const l=t?.confidence??0,m=l<=1?l*100:l;return Math.min(100,Math.max(0,m))},[t?.confidence]),o=y.useMemo(()=>t?.dataPoints?Object.values(t.dataPoints).reduce((l,m)=>l+m,0):0,[t?.dataPoints]),i=y.useMemo(()=>t?.dataPoints?{calendarEvents:t.dataPoints.calendarEvents||0,emailMessages:t.dataPoints.emailMessages||0,meetings:t.dataPoints.meetings||0,tasksCompleted:t.dataPoints.tasksCompleted||0}:null,[t?.dataPoints]);return!r||!t?null:e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900 bg-opacity-50 dark:bg-opacity-70 transition-opacity",onClick:s,"aria-hidden":"true"}),e.jsxs("div",{className:`relative rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col transition-colors duration-200 ${a?"bg-gray-800":"bg-white"}`,children:[e.jsxs("div",{className:`flex items-center justify-between px-6 py-4 border-b ${a?"border-gray-700":"border-gray-200"}`,children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-semibold ${a?"text-white":"text-gray-900"}`,children:"Detailed Analysis"}),e.jsx("p",{className:`text-sm mt-1 ${a?"text-gray-400":"text-gray-500"}`,children:"Confidence and data insights for your burnout risk assessment"})]}),e.jsx("button",{onClick:s,className:`p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 transition-colors ${a?"text-gray-400 hover:text-gray-300":"text-gray-400 hover:text-gray-600"}`,"aria-label":"Close modal",children:e.jsx(yt,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:`bg-gradient-to-br rounded-lg p-6 border transition-colors duration-200 ${a?"from-primary-900/30 to-primary-800/20 border-primary-700":"from-primary-50 to-primary-100 border-primary-200"}`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ae,{className:`h-8 w-8 ${a?"text-primary-400":"text-primary-600"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-lg font-semibold mb-2 ${a?"text-white":"text-gray-900"}`,children:"Confidence Level"}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:`flex-1 rounded-full h-4 shadow-inner ${a?"bg-gray-700":"bg-white"}`,children:e.jsx("div",{className:"bg-primary-500 h-4 rounded-full transition-all duration-500 shadow-sm",style:{width:`${n}%`}})}),e.jsxs("span",{className:`text-2xl font-bold min-w-[60px] text-right ${a?"text-white":"text-gray-900"}`,children:[Math.round(n),"%"]})]})}),e.jsx("div",{className:`rounded-lg p-4 border transition-colors duration-200 ${a?"bg-gray-700 border-gray-600":"bg-white border-primary-200"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ot,{className:`h-5 w-5 flex-shrink-0 mt-0.5 ${a?"text-primary-400":"text-primary-600"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-semibold mb-2 ${a?"text-white":"text-gray-900"}`,children:"What is Confidence Level?"}),e.jsx("p",{className:`text-sm mb-3 ${a?"text-gray-300":"text-gray-700"}`,children:"The confidence level represents how reliable the burnout risk assessment is based on the quality and quantity of data analyzed. It's calculated using a combination of factors:"}),e.jsxs("ul",{className:`text-sm space-y-2 list-disc list-inside ${a?"text-gray-300":"text-gray-700"}`,children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Data Volume:"})," More data points lead to higher confidence. With ",o," data points analyzed, the model has sufficient information to make a reliable assessment."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Data Recency:"})," Recent data (within the last 7-30 days) is weighted more heavily than older data."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Data Completeness:"})," Complete datasets across all factors (workload, stress, work-life balance, etc.) increase confidence."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Model Accuracy:"})," The machine learning model's historical accuracy on similar data patterns contributes to the confidence score."]})]}),e.jsx("div",{className:`mt-4 p-3 rounded border transition-colors duration-200 ${a?"bg-primary-900/20 border-primary-700":"bg-primary-50 border-primary-200"}`,children:e.jsxs("p",{className:`text-xs ${a?"text-primary-200":"text-primary-800"}`,children:[e.jsx("strong",{children:"Current Status:"})," Your confidence level of ",Math.round(n),"% indicates a"," ",n>=80?"highly reliable":n>=60?"reliable":"moderately reliable"," ","assessment based on the available data."]})})]})]})})]})]})}),e.jsx("div",{className:`bg-gradient-to-br rounded-lg p-6 border transition-colors duration-200 ${a?"from-gray-700 to-gray-800 border-gray-600":"from-gray-50 to-gray-100 border-gray-200"}`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ae,{className:`h-8 w-8 ${a?"text-gray-400":"text-gray-600"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${a?"text-white":"text-gray-900"}`,children:"Data Points Analyzed"}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-baseline space-x-2 mb-2",children:[e.jsx("span",{className:`text-4xl font-bold ${a?"text-white":"text-gray-900"}`,children:o}),e.jsx("span",{className:`text-lg ${a?"text-gray-400":"text-gray-600"}`,children:"total data points"})]})}),i&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:`rounded-lg p-4 border text-center transition-colors duration-200 ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx(Le,{className:`h-6 w-6 mx-auto mb-2 ${a?"text-blue-400":"text-blue-600"}`}),e.jsx("p",{className:`text-2xl font-bold ${a?"text-white":"text-gray-900"}`,children:i.calendarEvents}),e.jsx("p",{className:`text-xs mt-1 ${a?"text-gray-400":"text-gray-600"}`,children:"Calendar Events"})]}),e.jsxs("div",{className:`rounded-lg p-4 border text-center transition-colors duration-200 ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx(lt,{className:`h-6 w-6 mx-auto mb-2 ${a?"text-green-400":"text-green-600"}`}),e.jsx("p",{className:`text-2xl font-bold ${a?"text-white":"text-gray-900"}`,children:i.emailMessages}),e.jsx("p",{className:`text-xs mt-1 ${a?"text-gray-400":"text-gray-600"}`,children:"Email Messages"})]}),e.jsxs("div",{className:`rounded-lg p-4 border text-center transition-colors duration-200 ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx(Ce,{className:`h-6 w-6 mx-auto mb-2 ${a?"text-purple-400":"text-purple-600"}`}),e.jsx("p",{className:`text-2xl font-bold ${a?"text-white":"text-gray-900"}`,children:i.meetings}),e.jsx("p",{className:`text-xs mt-1 ${a?"text-gray-400":"text-gray-600"}`,children:"Meetings"})]}),e.jsxs("div",{className:`rounded-lg p-4 border text-center transition-colors duration-200 ${a?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx(G,{className:`h-6 w-6 mx-auto mb-2 ${a?"text-orange-400":"text-orange-600"}`}),e.jsx("p",{className:`text-2xl font-bold ${a?"text-white":"text-gray-900"}`,children:i.tasksCompleted}),e.jsx("p",{className:`text-xs mt-1 ${a?"text-gray-400":"text-gray-600"}`,children:"Tasks Completed"})]})]}),e.jsx("div",{className:`rounded-lg p-4 border transition-colors duration-200 ${a?"bg-gray-700 border-gray-600":"bg-white border-gray-200"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ot,{className:`h-5 w-5 flex-shrink-0 mt-0.5 ${a?"text-gray-400":"text-gray-600"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-semibold mb-2 ${a?"text-white":"text-gray-900"}`,children:"How Are Data Points Analyzed?"}),e.jsx("p",{className:`text-sm mb-3 ${a?"text-gray-300":"text-gray-700"}`,children:"Data points are collected from various sources and analyzed to assess your burnout risk:"}),e.jsxs("ul",{className:`text-sm space-y-2 ${a?"text-gray-300":"text-gray-700"}`,children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(Le,{className:`h-4 w-4 flex-shrink-0 mt-0.5 ${a?"text-blue-400":"text-blue-600"}`}),e.jsxs("div",{children:[e.jsx("strong",{children:"Calendar Events & Meetings:"})," The system analyzes your meeting frequency, duration, and timing. High meeting counts or back-to-back meetings can indicate workload pressure and reduced focus time."]})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(lt,{className:`h-4 w-4 flex-shrink-0 mt-0.5 ${a?"text-green-400":"text-green-600"}`}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email Messages:"})," Email volume and response patterns are tracked. High email counts, especially after hours, can signal work-life balance issues and communication overload."]})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(Ce,{className:`h-4 w-4 flex-shrink-0 mt-0.5 ${a?"text-purple-400":"text-purple-600"}`}),e.jsxs("div",{children:[e.jsx("strong",{children:"Work Hours:"})," Total work hours per week are calculated from calendar data and time logs. Consistent overtime (45+ hours/week) is a key indicator of burnout risk."]})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(G,{className:`h-4 w-4 flex-shrink-0 mt-0.5 ${a?"text-orange-400":"text-orange-600"}`}),e.jsxs("div",{children:[e.jsx("strong",{children:"Task Completion:"})," Task completion rates and patterns help identify workload pressure and deadline stress. Declining completion rates may indicate overwhelm."]})]})]}),e.jsx("div",{className:`mt-4 p-3 rounded border transition-colors duration-200 ${a?"bg-gray-800 border-gray-600":"bg-gray-50 border-gray-200"}`,children:e.jsxs("p",{className:`text-xs ${a?"text-gray-300":"text-gray-700"}`,children:[e.jsx("strong",{children:"Analysis Process:"})," These data points are processed through machine learning algorithms that identify patterns, trends, and correlations. The model compares your current patterns against historical data from employees with similar profiles to predict burnout risk. Factors are weighted based on their impact on burnout (e.g., stress level and work-life balance have higher weights than exercise frequency)."]})})]})]})})]})]})}),e.jsx("div",{className:`rounded-lg p-4 border transition-colors duration-200 ${a?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${a?"text-white":"text-gray-900"}`,children:"Last Updated"}),e.jsxs("p",{className:`text-sm mt-1 ${a?"text-gray-400":"text-gray-600"}`,children:[new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," at ",new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Assessment refreshed automatically"})})]})})]})})]})]})},nn=({message:r,isVisible:s,onClose:t,type:a="success"})=>{if(y.useEffect(()=>{if(s){const i=setTimeout(()=>{t()},3e3);return()=>clearTimeout(i)}},[s,t]),!s)return null;const n=()=>a==="theme"?r.includes("Dark")?e.jsx(as,{className:"h-5 w-5 text-blue-600"}):e.jsx(nr,{className:"h-5 w-5 text-yellow-600"}):e.jsx(G,{className:`h-5 w-5 ${a==="success"?"text-green-600":"text-blue-600"}`}),o=()=>a==="theme"?r.includes("Dark")?"bg-gray-800 border border-gray-700 text-white":"bg-yellow-50 border border-yellow-200 text-yellow-800":a==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-blue-50 border border-blue-200 text-blue-800";return e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-up",children:e.jsxs("div",{className:`flex items-center space-x-3 rounded-lg shadow-lg px-4 py-3 ${o()}`,children:[n(),e.jsx("p",{className:"text-sm font-medium",children:r}),e.jsx("button",{onClick:t,className:`ml-2 ${a==="theme"?r.includes("Dark")?"text-gray-400 hover:text-gray-200":"text-yellow-600 hover:text-yellow-800":a==="success"?"text-green-600 hover:text-green-800":"text-blue-600 hover:text-blue-800"}`,children:e.jsx(yt,{className:"h-4 w-4"})})]})})},Os=({isOpen:r,onClose:s,onLogout:t,user:a,profileOverview:n})=>{const{toggleTheme:o,isDark:i}=je(),[l,m]=y.useState(()=>localStorage.getItem("burnoutAlerts")!=="false"),[d,c]=y.useState({message:"",isVisible:!1}),g=(f,p="success")=>{c({message:f,isVisible:!0,type:p})};y.useEffect(()=>{localStorage.setItem("burnoutAlerts",l.toString()),l&&"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(f=>{f==="granted"&&console.log("Burnout alerts enabled")})},[l]),y.useEffect(()=>{const f=p=>{p.key==="Escape"&&s()};return r&&window.addEventListener("keydown",f),()=>{window.removeEventListener("keydown",f)}},[r,s]);const b=f=>{o(),g(f?" Dark mode enabled":" Light mode enabled","theme")},w=f=>{m(f),g(f?"Burnout alerts enabled":"Burnout alerts disabled","success")},u=()=>{const f=n?.profile?.jobTitle||a?.jobTitle||"Employee",p=n?.profile?.department||a?.department;return p?`${f}  ${p}`:f};return r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fixed inset-0 z-40 flex",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900 bg-opacity-40 dark:bg-opacity-60 transition-opacity",onClick:s,"aria-hidden":"true"}),e.jsxs("aside",{className:"relative ml-auto h-full w-full max-w-md bg-white dark:bg-gray-900 shadow-2xl transition-all duration-300 ease-out",role:"dialog","aria-modal":"true","aria-label":"User settings",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Settings"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:"Configure your personalized experience"})]}),e.jsx("button",{onClick:s,className:"rounded-full p-2 text-gray-400 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 transition-colors","aria-label":"Close settings",children:e.jsx(yt,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"h-full overflow-y-auto px-6 py-6",children:[e.jsxs("section",{className:"mb-8",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-4",children:"Signed in as"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400 flex-shrink-0",children:e.jsx(bt,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:[a?.firstName," ",a?.lastName]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:a?.email})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-4",children:"Preferences"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 dark:border-gray-700 p-4 transition hover:border-primary-300 dark:hover:border-primary-600 hover:bg-gray-50 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(as,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Dark mode"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-6",children:"Reduce eye strain during late work hours."})]}),e.jsx(Gt,{checked:i,onChange:b,ariaLabel:"Toggle dark mode"})]}),e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 dark:border-gray-700 p-4 transition hover:border-primary-300 dark:hover:border-primary-600 hover:bg-gray-50 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(ir,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Burnout alerts"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-6",children:"Receive notifications when your burnout risk score spikes."})]}),e.jsx(Gt,{checked:l,onChange:w,ariaLabel:"Toggle burnout alerts"})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400 mb-4",children:"Current Role"}),e.jsxs("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-800",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-1",children:u()}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 leading-relaxed",children:"Role-based access ensures you only see insights and data relevant to your position."})]})]}),t&&e.jsx("button",{onClick:t,className:"flex w-full items-center justify-center space-x-2 rounded-lg border border-danger-200 dark:border-danger-800 bg-white dark:bg-gray-800 px-4 py-3 text-sm font-semibold text-danger-600 dark:text-danger-400 transition hover:bg-danger-50 dark:hover:bg-danger-900/20",children:e.jsx("span",{children:"Sign out"})})]})]})]}),e.jsx(nn,{message:d.message,isVisible:d.isVisible,onClose:()=>c({...d,isVisible:!1}),type:d.type})]}):null},Gt=({checked:r,onChange:s,ariaLabel:t})=>e.jsx("button",{type:"button",role:"switch","aria-checked":r,"aria-label":t,onClick:()=>s(!r),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900 ${r?"bg-primary-600 dark:bg-primary-500":"bg-gray-200 dark:bg-gray-700"}`,children:e.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white dark:bg-gray-200 shadow ring-0 transition duration-200 ease-in-out ${r?"translate-x-5":"translate-x-0"}`})}),on=()=>{const{user:r,logout:s}=ge(),[t,a]=y.useState(null),[n,o]=y.useState(null),[i,l]=y.useState(!0),[m,d]=y.useState(""),[c,g]=y.useState(!1),[b,w]=y.useState(!1),u=y.useMemo(()=>{const L=t?.confidence??0,D=L<=1?L*100:L;return Math.min(100,Math.max(0,D))},[t?.confidence]),f=y.useCallback(()=>{g(!0)},[]),p=y.useCallback(()=>{g(!1)},[]),N=y.useCallback(()=>{w(!0)},[]),v=y.useCallback(()=>{w(!1)},[]);y.useEffect(()=>{$()},[]);const $=async()=>{try{l(!0),d("");const[L,D]=await Promise.all([ue.getDashboardData(),ue.getProfileOverview()]);a(L),o(D),l(!1)}catch(L){console.error("Error loading dashboard data:",L),d("Failed to load dashboard data"),l(!1)}},E=()=>{s()};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[e.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 transition-colors duration-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ae,{className:"h-8 w-8 text-primary-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Burnout Risk Prediction"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Welcome back, ",r?.firstName,"!"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:f,className:"p-2 text-gray-400 dark:text-gray-500 hover:text-gray-500 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 transition-colors","aria-label":"Open settings",children:e.jsx(ct,{className:"h-5 w-5"})}),e.jsxs("button",{onClick:E,className:"flex items-center px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[e.jsx(dt,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"spinner mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading dashboard data..."})]})}):m?e.jsxs("div",{className:"bg-danger-50 border border-danger-200 rounded-lg p-6 text-center",children:[e.jsx("p",{className:"text-danger-700",children:m}),e.jsx("button",{onClick:$,className:"mt-4 btn-primary",children:"Try Again"})]}):e.jsxs("div",{className:"space-y-8",children:[n&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(bt,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Profile Overview"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Current Role"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:n.profile.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.profile.jobTitle,n.profile.department&&`  ${n.profile.department}`]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Daily Summary"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Le,{className:"w-6 h-6 text-blue-600 dark:text-blue-400 mx-auto mb-1"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.dailySummary.meetingsAttended}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Meetings"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(lt,{className:"w-6 h-6 text-green-600 dark:text-green-400 mx-auto mb-1"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.dailySummary.emailsResponded}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Emails"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Ce,{className:"w-6 h-6 text-purple-600 dark:text-purple-400 mx-auto mb-1"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[n.dailySummary.workHoursLogged,"h"]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Work Hours"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Ts,{data:t,onViewDetails:N})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"card dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Stats"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Risk Score"}),e.jsxs("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[t?.riskScore||0,"/100"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Confidence"}),e.jsxs("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[Math.round(u),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last Updated"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-500",children:"2 hours ago"})]})]})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700 transition-colors duration-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Risk Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(vt,{data:t})}),e.jsx("div",{children:e.jsx(kt,{recommendations:t?.recommendations||[]})})]})]}),e.jsx(Ds,{baseWorkPatterns:t?.workPatterns}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"card dark:bg-gray-800 dark:border-gray-700 text-center",children:[e.jsx(Pe,{className:`h-8 w-8 mx-auto mb-2 ${t?.workPatterns?.workHoursPerWeek&&t.workPatterns.workHoursPerWeek>45?"text-danger-600":t?.workPatterns?.workHoursPerWeek&&t.workPatterns.workHoursPerWeek>40?"text-warning-600":"text-primary-600"}`}),e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Workload Trend"}),e.jsx("p",{className:`text-sm font-medium ${t?.workPatterns?.workHoursPerWeek&&t.workPatterns.workHoursPerWeek>45?"text-danger-600":t?.workPatterns?.workHoursPerWeek&&t.workPatterns.workHoursPerWeek>40?"text-warning-600":"text-gray-600 dark:text-gray-400"}`,children:t?.workPatterns?.workHoursPerWeek&&t.workPatterns.workHoursPerWeek>45?"High":t?.workPatterns?.workHoursPerWeek&&t.workPatterns.workHoursPerWeek>40?"Increasing":"Normal"}),t?.workPatterns?.workHoursPerWeek&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[t.workPatterns.workHoursPerWeek,"h/week"]})]}),e.jsxs("div",{className:"card dark:bg-gray-800 dark:border-gray-700 text-center",children:[e.jsx(ae,{className:`h-8 w-8 mx-auto mb-2 ${t?.workPatterns?.stressLevel&&t.workPatterns.stressLevel>=7?"text-danger-600":t?.workPatterns?.stressLevel&&t.workPatterns.stressLevel>=5?"text-warning-600":"text-success-600"}`}),e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Stress Level"}),e.jsx("p",{className:`text-sm font-medium ${t?.workPatterns?.stressLevel&&t.workPatterns.stressLevel>=7?"text-danger-600":t?.workPatterns?.stressLevel&&t.workPatterns.stressLevel>=5?"text-warning-600":"text-gray-600 dark:text-gray-400"}`,children:t?.workPatterns?.stressLevel&&t.workPatterns.stressLevel>=7?"High":t?.workPatterns?.stressLevel&&t.workPatterns.stressLevel>=5?"Moderate":"Low"}),t?.workPatterns?.stressLevel&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[t.workPatterns.stressLevel,"/10"]})]}),e.jsxs("div",{className:"card dark:bg-gray-800 dark:border-gray-700 text-center",children:[e.jsx(ct,{className:`h-8 w-8 mx-auto mb-2 ${t?.workPatterns?.workLifeBalance&&t.workPatterns.workLifeBalance<4?"text-danger-600":t?.workPatterns?.workLifeBalance&&t.workPatterns.workLifeBalance<6?"text-warning-600":"text-success-600"}`}),e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Work-Life Balance"}),e.jsx("p",{className:`text-sm font-medium ${t?.workPatterns?.workLifeBalance&&t.workPatterns.workLifeBalance<4?"text-danger-600":t?.workPatterns?.workLifeBalance&&t.workPatterns.workLifeBalance<6?"text-warning-600":"text-gray-600 dark:text-gray-400"}`,children:t?.workPatterns?.workLifeBalance&&t.workPatterns.workLifeBalance<4?"Needs Attention":t?.workPatterns?.workLifeBalance&&t.workPatterns.workLifeBalance<6?"Fair":"Good"}),t?.workPatterns?.workLifeBalance&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[t.workPatterns.workLifeBalance.toFixed(1),"/10"]})]}),e.jsxs("div",{className:"card dark:bg-gray-800 dark:border-gray-700 text-center",children:[e.jsx(dt,{className:`h-8 w-8 mx-auto mb-2 ${t?.riskLevel==="critical"?"text-critical-600":t?.riskLevel==="high"?"text-danger-600":t?.riskLevel==="medium"?"text-warning-600":"text-success-600"}`}),e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"Burnout Risk"}),e.jsx("p",{className:`text-sm font-medium capitalize ${t?.riskLevel==="critical"?"text-critical-600":t?.riskLevel==="high"?"text-danger-600":t?.riskLevel==="medium"?"text-warning-600":"text-gray-600 dark:text-gray-400"}`,children:t?.riskLevel||"Unknown"}),t?.riskScore&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[t.riskScore,"/100"]})]})]})]})}),e.jsx(Os,{isOpen:c,onClose:p,user:r,profileOverview:n,onLogout:E}),e.jsx(Ms,{isOpen:b,onClose:v,data:t})]})},Zt={async triggerRetraining(){return P.post("/ml/retrain",{})},async fetchEdaReport(){return P.get("/ml/eda")}},es=()=>{const{user:r,logout:s}=ge(),{isDark:t}=je(),a=ss(),[n,o]=y.useState([]),[i,l]=y.useState([]),[m,d]=y.useState({totalUsers:0,lowRisk:0,mediumRisk:0,highRisk:0,criticalRisk:0}),[c,g]=y.useState(!0),[b,w]=y.useState(""),[u,f]=y.useState(null),[p,N]=y.useState(null),[v,$]=y.useState(null),[E,L]=y.useState(null),[D,M]=y.useState(!1),[ee,C]=y.useState(""),[O,Y]=y.useState("all"),[Q,U]=y.useState("department-reports"),[F,R]=y.useState(null),[T,I]=y.useState(null),[_,le]=y.useState(!1),[we,V]=y.useState(!1),[X,ie]=y.useState(!1),[H,oe]=y.useState(null),[Oe,Fs]=y.useState("");y.useEffect(()=>{St(),r?.role==="manager"&&Is()},[r]);const Is=async()=>{if(r)try{le(!0);const[h,j]=await Promise.all([ue.getEmployeeDashboard(),ue.getProfileOverview()]);R(h),I(j)}catch(h){console.error("Error loading my dashboard data:",h)}finally{le(!1)}},St=async()=>{try{g(!0),w("");const h=await ue.getAdminDashboardData(),j=await Zt.fetchEdaReport();if(console.log("=== CRITICAL DEBUG ==="),console.log("Loaded users:",h.users.length),console.log("Loaded predictions:",h.predictions.length),console.log("Stats:",h.stats),h.predictions.length>0&&h.users.length>0){const S=h.users[0],q=h.predictions[0];console.log("Sample User _id:",{raw:S._id,type:typeof S._id,string:String(S._id),email:S.email}),console.log("Sample Prediction userId:",{raw:q.userId,type:typeof q.userId,string:String(q.userId),riskLevel:q.riskLevel}),console.log("Comparison test:"),console.log("  === (strict):",S._id===q.userId),console.log("  String === String:",String(S._id)===String(q.userId));let K=0,J=0;const ne=[];h.users.slice(0,10).forEach(te=>{const Ne=String(te._id),ke=h.predictions.filter(et=>String(et.userId||"")===Ne);if(ke.length>0)K++,console.log(` ${te.email}: Matched! Risk: ${ke[0].riskLevel}`);else{J++;const et=h.predictions.slice(0,3).map(Lt=>String(Lt.userId));ne.push({email:te.email,userId:Ne,samplePredictionIds:et}),console.log(` ${te.email}: NO MATCH. UserId: ${Ne}`)}}),console.log(`
 Matching Results: ${K} matched, ${J} unmatched out of 10 sample users`);const Fe=h.predictions.reduce((te,Ne)=>{const ke=(Ne.riskLevel||"unknown").toLowerCase();return te[ke]=(te[ke]||0)+1,te},{});console.log("Risk distribution in predictions:",Fe)}console.log("======================"),j.success&&j.data?($(j.data),console.log("EDA label distribution:",j.data.label_distribution),console.log("Top correlations:",j.data.top_correlations)):($(null),j.message&&console.warn("EDA report unavailable:",j.message)),o(h.users),l(h.predictions),d(h.stats),g(!1)}catch(h){console.error("Error loading admin data:",h),w("Failed to load admin data"),g(!1)}},$t=()=>{s()},Bs=async()=>{try{M(!0),C("");const h=await Zt.triggerRetraining();h.success&&h.data?(L(h.data),C("Retraining completed successfully."),h.data.eda&&($(h.data.eda),console.log("Updated EDA label distribution:",h.data.eda.label_distribution),console.log("Updated top correlations:",h.data.eda.top_correlations))):C(h.message||"Retraining failed.")}catch(h){console.error("Retraining error:",h),C("Retraining failed. Check logs for details.")}finally{M(!1)}},ce=h=>{const j=String(h||"");if(!i||i.length===0)return"medium";const S=i.filter(K=>String(K.userId||"")===j);return S.length===0?"medium":(S.sort((K,J)=>{const ne=new Date(K.predictionDate||K.createdAt||0).getTime();return new Date(J.predictionDate||J.createdAt||0).getTime()-ne})[0]?.riskLevel||"medium").toLowerCase()},Us=()=>n.reduce((h,j)=>{const S=j.department||"Unknown";return h[S]=(h[S]||0)+1,h},{}),Rt=h=>{switch(h){case"low":return"text-green-600 bg-green-100";case"medium":return"text-yellow-600 bg-yellow-100";case"high":return"text-orange-600 bg-orange-100";case"critical":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},Ze=h=>{switch(h){case"low":return e.jsx(G,{className:"h-4 w-4"});case"medium":return e.jsx(ae,{className:"h-4 w-4"});case"high":return e.jsx(re,{className:"h-4 w-4"});case"critical":return e.jsx(re,{className:"h-4 w-4"});default:return e.jsx(ae,{className:"h-4 w-4"})}},_s=h=>{h&&a(`/dashboard/details/${h}`)},Et=y.useMemo(()=>{const h={};return n.forEach(j=>{const S=j.department||"Unknown";switch(h[S]||(h[S]={total:0,low:0,medium:0,high:0,critical:0,avgRiskScore:0,employees:[]}),h[S].total++,h[S].employees.push(j),ce(j._id)){case"low":h[S].low++;break;case"medium":h[S].medium++;break;case"high":h[S].high++;break;case"critical":h[S].critical++;break}}),Object.keys(h).forEach(j=>{const S=h[j].employees,q=i.filter(K=>{const J=String(K.userId||"");return S.some(ne=>String(ne._id||"")===J)});if(q.length>0){const K=q.reduce((J,ne)=>J+(ne.riskScore||0),0)/q.length;h[j].avgRiskScore=Math.round(K)}}),h},[n,i]),Ct=y.useMemo(()=>{let h=n;if(O!=="all"&&(h=h.filter(j=>(j.department||"Unknown")===O)),H&&(h=h.filter(j=>ce(j._id)===H)),Oe.trim()){const j=Oe.toLowerCase().trim();h=h.filter(S=>{const q=`${S.firstName} ${S.lastName}`.toLowerCase(),K=(S.email||"").toLowerCase(),J=(S.role||"").toLowerCase(),ne=(S.department||"").toLowerCase(),Fe=(S.jobTitle||"").toLowerCase(),te=ce(S._id).toLowerCase();return q.includes(j)||K.includes(j)||J.includes(j)||ne.includes(j)||Fe.includes(j)||te.includes(j)})}return h},[n,O,H,Oe]),Hs=y.useMemo(()=>{const h=new Set(n.map(j=>j.department||"Unknown"));return Array.from(h).sort()},[n]);if(c)return e.jsx("div",{className:`min-h-screen flex items-center justify-center transition-colors duration-200 ${t?"bg-gray-900":"bg-gray-50"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"spinner mx-auto mb-4"}),e.jsx("p",{className:t?"text-gray-400":"text-gray-600",children:"Loading admin dashboard..."})]})});if(b)return e.jsx("div",{className:`min-h-screen flex items-center justify-center transition-colors duration-200 ${t?"bg-gray-900":"bg-gray-50"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:b}),e.jsx("button",{onClick:St,className:"btn-primary dark:bg-primary-600 dark:hover:bg-primary-700",children:"Try Again"})]})});const qs=Us();return e.jsxs("div",{className:`min-h-screen transition-colors duration-200 ${t?"bg-gray-900":"bg-gray-50"}`,children:[e.jsx("header",{className:`shadow-sm border-b transition-colors duration-200 ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(mt,{className:`h-8 w-8 mr-3 ${t?"text-primary-400":"text-primary-600"}`}),e.jsxs("div",{children:[e.jsx("h1",{className:`text-xl font-semibold ${t?"text-white":"text-gray-900"}`,children:r?.role==="manager"?"Manager Dashboard":"Admin Dashboard"}),e.jsxs("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:["Welcome back, ",r?.firstName,"! Manage your organization's burnout risk."]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[r?.role==="manager"&&e.jsxs("div",{className:`flex items-center space-x-1 rounded-lg p-1 ${t?"bg-gray-700":"bg-gray-100"}`,children:[e.jsx("button",{onClick:()=>U("my-data"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${Q==="my-data"?t?"bg-blue-600 text-white":"bg-white text-blue-600 shadow-sm":t?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:"View My Data"}),e.jsx("button",{onClick:()=>U("department-reports"),className:`px-4 py-2 text-sm font-medium rounded-md transition-colors ${Q==="department-reports"?t?"bg-blue-600 text-white":"bg-white text-blue-600 shadow-sm":t?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"}`,children:"View Department Reports"})]}),p&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Viewing as:"}),e.jsxs("span",{className:`text-sm font-medium ${t?"text-blue-400":"text-blue-600"}`,children:[p.firstName," ",p.lastName]}),e.jsx("button",{onClick:()=>N(null),className:`text-xs ${t?"text-gray-500 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,children:""})]}),e.jsx("button",{onClick:()=>ie(!0),className:`p-2 ${t?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"} rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 transition-colors`,"aria-label":"Open settings",children:e.jsx(ct,{className:"h-5 w-5"})}),e.jsxs("button",{onClick:$t,className:`flex items-center px-3 py-2 text-sm rounded-lg transition-colors ${t?"text-gray-300 hover:text-white hover:bg-gray-700":"text-gray-700 hover:text-gray-900 hover:bg-gray-100"}`,children:[e.jsx(dt,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r?.role==="manager"&&Q==="my-data"?e.jsx("div",{className:"space-y-6",children:_?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:`inline-block animate-spin rounded-full h-12 w-12 border-b-2 ${t?"border-blue-400":"border-blue-600"}`}),e.jsx("p",{className:`mt-4 text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Loading your dashboard..."})]}):F&&T?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`rounded-lg p-6 transition-colors duration-200 ${t?"bg-gray-800 border border-gray-700":"bg-white shadow"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(bt,{className:`w-5 h-5 ${t?"text-blue-400":"text-blue-600"}`}),e.jsx("h2",{className:`text-xl font-semibold ${t?"text-white":"text-gray-900"}`,children:"Profile Overview"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Meetings"}),e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:T.dailySummary?.meetingsAttended||0})]}),e.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Emails"}),e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:T.dailySummary?.emailsResponded||0})]}),e.jsxs("div",{className:`p-4 rounded-lg ${t?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Work Hours"}),e.jsxs("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:[T.dailySummary?.workHoursLogged?.toFixed(1)||"0.0","h"]})]})]})]}),e.jsx(Ts,{data:F,onViewDetails:()=>V(!0)}),e.jsxs("div",{className:`rounded-lg shadow-md p-6 border transition-colors duration-200 ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[e.jsx("h2",{className:`text-xl font-semibold mb-4 ${t?"text-white":"text-gray-800"}`,children:"Risk Analysis"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(vt,{data:F})}),e.jsx("div",{children:e.jsx(kt,{recommendations:F?.recommendations||[]})})]})]}),e.jsx(Ds,{baseWorkPatterns:F?.workPatterns})]}):e.jsx("div",{className:`text-center py-12 rounded-lg ${t?"bg-gray-800 border border-gray-700":"bg-white shadow"}`,children:e.jsx("p",{className:`text-lg ${t?"text-gray-400":"text-gray-600"}`,children:"Unable to load your dashboard data."})})}):e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:`rounded-lg shadow p-6 transition-colors duration-200 ${t?"bg-gray-800 border border-gray-700":"bg-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(mt,{className:`h-8 w-8 ${t?"text-blue-400":"text-blue-600"}`}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Total Users"}),e.jsx("p",{className:`text-2xl font-semibold ${t?"text-white":"text-gray-900"}`,children:m.totalUsers})]})]})}),e.jsx("div",{className:`rounded-lg shadow p-6 transition-colors duration-200 ${t?"bg-gray-800 border border-gray-700":"bg-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ae,{className:`h-8 w-8 ${t?"text-green-400":"text-green-600"}`}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Low Risk"}),e.jsx("p",{className:`text-2xl font-semibold ${t?"text-white":"text-gray-900"}`,children:m.lowRisk})]})]})}),e.jsx("div",{className:`rounded-lg shadow p-6 transition-colors duration-200 ${t?"bg-gray-800 border border-gray-700":"bg-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(re,{className:`h-8 w-8 ${t?"text-yellow-400":"text-yellow-600"}`}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"High Risk"}),e.jsx("p",{className:`text-2xl font-semibold ${t?"text-white":"text-gray-900"}`,children:m.highRisk})]})]})}),e.jsx("div",{className:`rounded-lg shadow p-6 transition-colors duration-200 ${t?"bg-gray-800 border border-gray-700":"bg-white"}`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(re,{className:`h-8 w-8 ${t?"text-red-400":"text-red-600"}`}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-600"}`,children:"Critical Risk"}),e.jsx("p",{className:`text-2xl font-semibold ${t?"text-white":"text-gray-900"}`,children:m.criticalRisk})]})]})})]}),e.jsxs("div",{className:`rounded-lg shadow p-6 mb-8 transition-colors duration-200 ${t?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(or,{className:`w-5 h-5 ${t?"text-blue-400":"text-blue-600"}`}),e.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"}`,children:"Department Insights"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:"Filter by Department"}),e.jsxs("select",{value:O,onChange:h=>Y(h.target.value),className:`px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 ${t?"bg-gray-700 border border-gray-600 text-white":"border border-gray-300 bg-white text-gray-900"}`,children:[e.jsx("option",{value:"all",children:"All Departments"}),Hs.map(h=>e.jsxs("option",{value:h,children:[h," (",Et[h]?.total||0," employees)"]},h))]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(Et).filter(([h])=>O==="all"||h===O).map(([h,j])=>{const S=j.total>0?(j.high+j.critical)/j.total*100:0;return e.jsxs("div",{className:`rounded-lg p-5 border transition-colors duration-200 cursor-pointer hover:shadow-md ${t?"bg-gray-700 border-gray-600 hover:border-gray-500":"bg-gray-50 border-gray-200 hover:border-gray-300"}`,onClick:()=>{Y(h),document.getElementById("user-list-section")?.scrollIntoView({behavior:"smooth"})},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:`font-semibold ${t?"text-white":"text-gray-900"}`,children:h}),e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${S>30?t?"bg-red-900 text-red-200":"bg-red-100 text-red-800":S>15?t?"bg-yellow-900 text-yellow-200":"bg-yellow-100 text-yellow-800":t?"bg-green-900 text-green-200":"bg-green-100 text-green-800"}`,children:[S.toFixed(0),"% At Risk"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:t?"text-gray-400":"text-gray-600",children:"Total Employees"}),e.jsx("span",{className:`font-semibold ${t?"text-white":"text-gray-900"}`,children:j.total})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-lg font-bold ${t?"text-green-400":"text-green-600"}`,children:j.low}),e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Low"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-lg font-bold ${t?"text-yellow-400":"text-yellow-600"}`,children:j.medium}),e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Med"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-lg font-bold ${t?"text-orange-400":"text-orange-600"}`,children:j.high}),e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"High"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-lg font-bold ${t?"text-red-400":"text-red-600"}`,children:j.critical}),e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-600"}`,children:"Crit"})]})]}),j.avgRiskScore>0&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-300 dark:border-gray-600",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:t?"text-gray-400":"text-gray-600",children:"Avg Risk Score"}),e.jsxs("span",{className:`font-semibold ${t?"text-white":"text-gray-900"}`,children:[j.avgRiskScore,"/100"]})]})})]})]},h)})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:`rounded-lg shadow p-6 transition-colors duration-200 ${t?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${t?"text-white":"text-gray-900"}`,children:"Risk Level Distribution"}),e.jsx("div",{className:"space-y-3",children:Object.entries({low:m.lowRisk,medium:Math.floor(m.totalUsers*.2),high:m.highRisk,critical:m.criticalRisk}).map(([h,j])=>e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg cursor-pointer transition-colors ${H===h?t?"bg-blue-900/30 border border-blue-700":"bg-blue-50 border border-blue-200":t?"hover:bg-gray-700":"hover:bg-gray-50"}`,onClick:()=>{oe(H===h?null:h)},children:[e.jsxs("div",{className:"flex items-center flex-1",children:[Ze(h),e.jsxs("span",{className:`ml-2 text-sm font-medium capitalize ${t?"text-gray-300":"text-gray-700"}`,children:[h," Risk"]}),e.jsxs("span",{className:`ml-2 text-xs ${t?"text-gray-400":"text-gray-500"}`,children:["(",j," ",j===1?"employee":"employees",")"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-24 rounded-full h-2 ${t?"bg-gray-700":"bg-gray-200"}`,children:e.jsx("div",{className:`h-2 rounded-full ${h==="low"?"bg-green-500":h==="medium"?"bg-yellow-500":h==="high"?"bg-orange-500":"bg-red-500"}`,style:{width:`${n.length>0?j/n.length*100:0}%`}})}),e.jsx("span",{className:`text-sm w-8 ${t?"text-gray-400":"text-gray-600"}`,children:j})]})]},h))}),H&&e.jsx("button",{onClick:()=>oe(null),className:`mt-4 text-sm ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-800"}`,children:"Clear filter"})]}),e.jsxs("div",{className:`rounded-lg shadow p-6 transition-colors duration-200 ${t?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-4 ${t?"text-white":"text-gray-900"}`,children:"Department Distribution"}),e.jsx("div",{className:"space-y-3",children:Object.entries(qs).map(([h,j])=>e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg cursor-pointer transition-colors ${O===h?t?"bg-blue-900/30 border border-blue-700":"bg-blue-50 border border-blue-200":t?"hover:bg-gray-700":"hover:bg-gray-50"}`,onClick:()=>{Y(O===h?"all":h)},children:[e.jsxs("span",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:[h,e.jsxs("span",{className:`ml-2 text-xs ${t?"text-gray-400":"text-gray-500"}`,children:["(",j," ",j===1?"employee":"employees",")"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-24 rounded-full h-2 ${t?"bg-gray-700":"bg-gray-200"}`,children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${n.length>0?j/n.length*100:0}%`}})}),e.jsx("span",{className:`text-sm w-8 ${t?"text-gray-400":"text-gray-600"}`,children:j})]})]},h))}),O!=="all"&&e.jsx("button",{onClick:()=>Y("all"),className:`mt-4 text-sm ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-800"}`,children:"Clear filter"})]})]}),e.jsxs("div",{id:"user-list-section",className:`rounded-lg shadow transition-colors duration-200 ${t?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsxs("div",{className:`px-6 py-4 border-b ${t?"border-gray-700":"border-gray-200"}`,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"}`,children:[O==="all"?"All Users":`${O} Department`," (",Ct.length,")"]})}),e.jsxs("div",{className:"relative",children:[e.jsx(lr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name, role, department, job title, or risk level...",value:Oe,onChange:h=>Fs(h.target.value),className:`w-full pl-10 pr-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-primary-500 ${t?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"border-gray-300 bg-white text-gray-900 placeholder-gray-500"}`})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:t?"bg-gray-700":"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:"User"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:"Role"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:"Department"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:"Job Title"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:"Risk Level"}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:"Work Patterns"})]})}),e.jsx("tbody",{className:`divide-y ${t?"bg-gray-800 divide-gray-700":"bg-white divide-gray-200"}`,children:Ct.map(h=>{const j=ce(h._id);return e.jsxs("tr",{className:`cursor-pointer transition-colors ${t?"hover:bg-gray-700":"hover:bg-gray-50"}`,onClick:()=>f(h),children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${t?"bg-gray-600":"bg-gray-300"}`,children:e.jsxs("span",{className:`text-sm font-medium ${t?"text-gray-200":"text-gray-700"}`,children:[(h.firstName?.[0]||"").toUpperCase(),(h.lastName?.[0]||"").toUpperCase()]})})}),e.jsxs("div",{className:"ml-4 min-w-0",children:[e.jsxs("div",{className:`text-sm font-medium ${t?"text-white":"text-gray-900"}`,children:[h.firstName||"N/A"," ",h.lastName||""]}),e.jsx("div",{className:`text-sm ${t?"text-gray-400":"text-gray-500"} truncate max-w-xs`,title:h.email,children:h.email||"N/A"})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h.role==="admin"?t?"bg-purple-900 text-purple-200":"bg-purple-100 text-purple-800":h.role==="manager"?t?"bg-blue-900 text-blue-200":"bg-blue-100 text-blue-800":t?"bg-gray-700 text-gray-200":"bg-gray-100 text-gray-800"}`,children:h.role})}),e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${t?"text-gray-300":"text-gray-900"}`,children:h.department||"N/A"}),e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${t?"text-gray-300":"text-gray-900"}`,children:h.jobTitle||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Rt(j)} dark:bg-opacity-20`,children:[Ze(j),e.jsx("span",{className:"ml-1 capitalize",children:j})]})}),e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${t?"text-gray-400":"text-gray-500"}`,children:h.workPatterns?e.jsxs("div",{className:"text-xs",children:[e.jsxs("div",{children:[h.workPatterns.workHoursPerWeek,"h/week"]}),e.jsxs("div",{children:[h.workPatterns.stressLevel,"/10 stress"]}),h.role==="manager"&&e.jsxs("div",{children:[h.workPatterns.teamSize," team members"]})]}):"N/A"})]},h._id)})})]})})]}),e.jsxs("div",{className:`rounded-lg shadow p-6 mb-8 transition-colors duration-200 ${t?"bg-gray-800 border border-gray-700":"bg-white"}`,children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"}`,children:"Model Operations & EDA"}),e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Review the latest training metrics and exploratory data analysis. Trigger a new training run after adding datasets."})]}),e.jsxs("button",{onClick:Bs,disabled:D,className:"inline-flex items-center px-4 py-2 rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(cr,{className:`h-4 w-4 mr-2 ${D?"animate-spin":""}`}),D?"Retraining...":"Retrain Models"]})]}),ee&&e.jsx("div",{className:`mb-4 p-3 rounded-md text-sm ${t?"bg-blue-900/30 text-blue-300 border border-blue-700":"bg-blue-50 text-blue-700"}`,children:ee}),E&&e.jsxs("div",{className:`mb-6 grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm ${t?"text-gray-300":"text-gray-700"}`,children:[e.jsxs("div",{className:`rounded-md p-3 ${t?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx("span",{className:`font-medium block ${t?"text-white":"text-gray-900"}`,children:"Trained Samples"}),E.trained_samples??"--"]}),e.jsxs("div",{className:`rounded-md p-3 ${t?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx("span",{className:`font-medium block ${t?"text-white":"text-gray-900"}`,children:"Models Trained"}),E.advanced_trained?"Baseline & Advanced":"Baseline"]}),e.jsxs("div",{className:`rounded-md p-3 ${t?"bg-gray-700":"bg-gray-50"}`,children:[e.jsx("span",{className:`font-medium block ${t?"text-white":"text-gray-900"}`,children:"Metrics File"}),E.metric_file||"N/A"]})]}),v?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:`text-sm font-semibold flex items-center ${t?"text-white":"text-gray-900"}`,children:[e.jsx(dr,{className:`h-4 w-4 mr-2 ${t?"text-primary-400":"text-primary-600"}`}),"Burnout Distribution"]}),e.jsx("div",{className:"mt-2 space-y-2",children:Object.entries(v.label_distribution).map(([h,j])=>e.jsxs("div",{className:`flex justify-between text-sm ${t?"text-gray-300":"text-gray-700"}`,children:[e.jsx("span",{className:"capitalize",children:h}),e.jsx("span",{children:j})]},h))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-semibold ${t?"text-white":"text-gray-900"}`,children:"Top Correlated Features"}),e.jsx("div",{className:`mt-2 rounded-md p-3 text-xs space-y-1 ${t?"bg-gray-700 text-gray-300":"bg-gray-50 text-gray-700"}`,children:Object.entries(v.top_correlations).map(([h,j])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"truncate mr-2",children:h}),e.jsx("span",{children:typeof j=="number"?j.toFixed(3):j})]},h))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-semibold ${t?"text-white":"text-gray-900"}`,children:"Sample Records"}),e.jsx("pre",{className:"mt-2 max-h-48 overflow-y-auto text-xs rounded-md p-3 bg-gray-900 text-gray-100",children:JSON.stringify(v.sample_rows.slice(0,3),null,2)})]})]}),e.jsxs("div",{className:"space-y-4",children:[v.charts?.label_distribution&&e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-semibold ${t?"text-white":"text-gray-900"}`,children:"Label Distribution Chart"}),e.jsx("img",{src:`data:image/png;base64,${v.charts.label_distribution}`,alt:"Label distribution",className:`mt-2 rounded-md border ${t?"border-gray-600":"border-gray-200"}`})]}),v.charts?.correlation_heatmap&&e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-semibold ${t?"text-white":"text-gray-900"}`,children:"Correlation Heatmap"}),e.jsx("img",{src:`data:image/png;base64,${v.charts.correlation_heatmap}`,alt:"Correlation heatmap",className:`mt-2 rounded-md border ${t?"border-gray-600":"border-gray-200"}`})]})]})]}):e.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:"EDA report not available yet. Trigger a training run to generate analytics."})]}),u&&e.jsx("div",{className:`fixed inset-0 overflow-y-auto h-full w-full z-50 transition-opacity ${t?"bg-gray-900 bg-opacity-70":"bg-gray-600 bg-opacity-50"}`,children:e.jsx("div",{className:`relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md transition-colors duration-200 ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:`text-lg font-medium ${t?"text-white":"text-gray-900"}`,children:[u.firstName," ",u.lastName]}),e.jsx("button",{onClick:()=>f(null),className:`transition-colors ${t?"text-gray-400 hover:text-gray-300":"text-gray-400 hover:text-gray-600"}`,children:""})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-500"}`,children:"Email"}),e.jsx("p",{className:`text-sm ${t?"text-white":"text-gray-900"}`,children:u.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-500"}`,children:"Role"}),e.jsx("p",{className:`text-sm capitalize ${t?"text-white":"text-gray-900"}`,children:u.role})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-500"}`,children:"Department"}),e.jsx("p",{className:`text-sm ${t?"text-white":"text-gray-900"}`,children:u.department||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-500"}`,children:"Job Title"}),e.jsx("p",{className:`text-sm ${t?"text-white":"text-gray-900"}`,children:u.jobTitle||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-500"}`,children:"Experience"}),e.jsxs("p",{className:`text-sm ${t?"text-white":"text-gray-900"}`,children:[u.experienceYears||0," years"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-500"}`,children:"Current Risk Level"}),e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Rt(ce(u._id))} dark:bg-opacity-20`,children:[Ze(ce(u._id)),e.jsx("span",{className:"ml-1 capitalize",children:ce(u._id)})]})]}),u.workPatterns&&e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-medium ${t?"text-gray-400":"text-gray-500"}`,children:"Work Patterns"}),e.jsxs("div",{className:`text-xs space-y-1 ${t?"text-gray-300":"text-gray-900"}`,children:[e.jsxs("div",{children:["Work Hours: ",u.workPatterns.workHoursPerWeek,"/week"]}),e.jsxs("div",{children:["Stress Level: ",u.workPatterns.stressLevel,"/10"]}),e.jsxs("div",{children:["Work-Life Balance: ",u.workPatterns.workLifeBalance,"/10"]}),e.jsxs("div",{children:["Team Size: ",u.workPatterns.teamSize||"N/A"]}),e.jsxs("div",{children:["Remote Work: ",u.workPatterns.remoteWorkPercentage,"%"]})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-300 dark:border-gray-600",children:e.jsxs("button",{onClick:()=>{_s(u._id),f(null)},className:"w-full flex items-center justify-center px-4 py-2 rounded-lg text-sm font-medium transition-colors bg-primary-600 hover:bg-primary-700 text-white",children:[e.jsx(mr,{className:"h-4 w-4 mr-2"}),"View Full Dashboard"]})})]})]})})})]})}),r?.role==="manager"&&Q==="my-data"&&e.jsx(Ms,{isOpen:we,onClose:()=>V(!1),data:F}),e.jsx(Os,{isOpen:X,onClose:()=>ie(!1),user:r,profileOverview:null,onLogout:$t})]})},ln=()=>{const[r,s]=y.useState(null),[t,a]=y.useState(!0),[n,o]=y.useState(""),[i,l]=y.useState("30d");y.useEffect(()=>{m()},[i]);const m=async()=>{try{a(!0),o(""),setTimeout(()=>{s({riskHistory:[{date:"2024-01-01",riskScore:45,riskLevel:"low"},{date:"2024-01-08",riskScore:52,riskLevel:"medium"},{date:"2024-01-15",riskScore:48,riskLevel:"low"},{date:"2024-01-22",riskScore:65,riskLevel:"medium"},{date:"2024-01-29",riskScore:58,riskLevel:"medium"}],factorTrends:{workload:[6,7,5,8,7],stressLevel:[4,5,3,7,6],workLifeBalance:[7,6,8,4,5],socialSupport:[6,5,7,5,6],jobSatisfaction:[7,6,8,5,6]},insights:[{type:"warning",title:"Workload Spike Detected",description:"Your workload increased by 25% this week compared to last week.",impact:"medium"},{type:"info",title:"Stress Management Improving",description:"Your stress levels have decreased by 15% over the past month.",impact:"positive"},{type:"alert",title:"Work-Life Balance Declining",description:"Your work-life balance score has dropped below the recommended threshold.",impact:"high"}]}),a(!1)},1e3)}catch(g){console.error("Error loading reports data:",g),o("Failed to load reports data"),a(!1)}},d=g=>{l(g)},c=()=>{console.log("Exporting reports...")};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ae,{className:"h-8 w-8 text-primary-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Reports & Analytics"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Detailed insights into your burnout risk patterns"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:i,onChange:g=>d(g.target.value),className:"input w-auto",children:[e.jsx("option",{value:"7d",children:"Last 7 days"}),e.jsx("option",{value:"30d",children:"Last 30 days"}),e.jsx("option",{value:"90d",children:"Last 90 days"}),e.jsx("option",{value:"1y",children:"Last year"})]}),e.jsxs("button",{onClick:c,className:"btn-secondary flex items-center",children:[e.jsx(xr,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"spinner mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading reports data..."})]})}):n?e.jsxs("div",{className:"bg-danger-50 border border-danger-200 rounded-lg p-6 text-center",children:[e.jsx("p",{className:"text-danger-700",children:n}),e.jsx("button",{onClick:m,className:"mt-4 btn-primary",children:"Try Again"})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Risk Score Trend"}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),i]})]}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Pe,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Risk trend chart will be displayed here"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Factor Trends"}),e.jsx("div",{className:"space-y-4",children:Object.entries(r?.factorTrends||{}).map(([g,b])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:g.replace(/([A-Z])/g," $1").trim()}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${b[b.length-1]/10*100}%`}})}),e.jsxs("span",{className:"text-sm text-gray-600 w-8",children:[b[b.length-1],"/10"]})]})]},g))})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Risk Distribution"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Low Risk"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-success-500 h-2 rounded-full",style:{width:"40%"}})}),e.jsx("span",{className:"text-sm text-gray-600",children:"40%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Medium Risk"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-warning-500 h-2 rounded-full",style:{width:"35%"}})}),e.jsx("span",{className:"text-sm text-gray-600",children:"35%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"High Risk"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-danger-500 h-2 rounded-full",style:{width:"20%"}})}),e.jsx("span",{className:"text-sm text-gray-600",children:"20%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Critical Risk"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-critical-500 h-2 rounded-full",style:{width:"5%"}})}),e.jsx("span",{className:"text-sm text-gray-600",children:"5%"})]})]})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Key Insights"}),e.jsx("div",{className:"space-y-4",children:r?.insights?.map((g,b)=>e.jsx("div",{className:`p-4 rounded-lg border-l-4 ${g.type==="warning"?"bg-warning-50 border-warning-400":g.type==="alert"?"bg-danger-50 border-danger-400":"bg-primary-50 border-primary-400"}`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(re,{className:`h-5 w-5 mr-3 mt-0.5 ${g.type==="warning"?"text-warning-600":g.type==="alert"?"text-danger-600":"text-primary-600"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:g.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.description}),e.jsxs("span",{className:`inline-block mt-2 px-2 py-1 text-xs font-medium rounded-full ${g.impact==="high"?"bg-danger-100 text-danger-800":g.impact==="positive"?"bg-success-100 text-success-800":"bg-warning-100 text-warning-800"}`,children:[g.impact," impact"]})]})]})},b))})]})]})})]})},cn=()=>{const{id:r}=Ks(),s=ss(),{user:t}=ge(),[a,n]=y.useState(null),[o,i]=y.useState(!0),[l,m]=y.useState(""),d=y.useCallback(async()=>{try{i(!0),m("");const p=await ue.getDashboardData();n(p)}catch(p){console.error("Failed to load detailed analytics",p),m("Unable to load detailed analytics. Please try again later.")}finally{i(!1)}},[]);y.useEffect(()=>{d()},[d,r]),y.useEffect(()=>{t&&t.role!=="employee"&&s("/admin",{replace:!0})},[s,t]);const c=y.useMemo(()=>{if(!a?.workPatterns)return[];const p=a.riskScore;return[-12,-5,0,6,10,4,-2].map((v,$)=>({week:`Week ${$+1}`,score:Math.min(100,Math.max(0,p+v)),workload:Math.min(10,Math.max(1,(a.workPatterns?.workloadScore??6)+v/15)),stress:Math.min(10,Math.max(1,(a.workPatterns?.stressLevel??5)+v/12))}))},[a]),g=y.useMemo(()=>{const p=a?.workPatterns?.meetingHoursPerWeek??10;return[{day:"Mon",meetings:Math.round(p*.22)},{day:"Tue",meetings:Math.round(p*.18)},{day:"Wed",meetings:Math.round(p*.2)},{day:"Thu",meetings:Math.round(p*.24)},{day:"Fri",meetings:Math.max(0,p-Math.round(p*.84))}]},[a]),b=a?.workPatterns?.workHoursPerWeek??40,w=a?.workPatterns?.overtimeHours??Math.max(0,b-40),u=y.useMemo(()=>{const p=a?.confidence??0,N=p<=1?p*100:p;return Math.min(100,Math.max(0,N))},[a?.confidence]),f=p=>{if(typeof p=="number")return p.toFixed(1);if(typeof p=="string"){const N=Number(p);return Number.isNaN(N)?p:N.toFixed(1)}return p??"N/A"};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"border-b border-gray-200 bg-white shadow-sm",children:e.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between px-4 py-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>s(-1),className:"rounded-lg border border-gray-200 p-2 text-gray-500 transition hover:bg-gray-100 hover:text-gray-700",type:"button",children:e.jsx(ur,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Detailed Burnout Analytics"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Comprehensive insights for ",r==="me"?"your profile":"the selected employee","."]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Le,{className:"h-4 w-4"}),e.jsxs("span",{children:["Updated ",new Date().toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(mt,{className:"h-4 w-4"}),e.jsxs("span",{children:[a?.riskLevel?.toUpperCase()," RISK"]})]})]})]})}),e.jsx("main",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:o?e.jsx("div",{className:"flex h-80 items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"spinner mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading detailed analytics..."})]})}):l?e.jsxs("div",{className:"rounded-lg border border-danger-200 bg-danger-50 p-6 text-center text-danger-700",children:[e.jsx("p",{children:l}),e.jsx("button",{onClick:()=>void d(),className:"btn-primary mt-4",type:"button",children:"Retry"})]}):a&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-4",children:[e.jsxs("div",{className:"card border-l-4 border-primary-300",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Burnout score"}),e.jsx("h2",{className:"mt-1 text-3xl font-bold text-gray-900",children:a.riskScore})]}),e.jsx(hr,{className:"h-10 w-10 text-primary-500"})]}),e.jsxs("p",{className:"mt-4 text-sm text-gray-600",children:["Current burnout classification: ",e.jsx("span",{className:"font-semibold text-gray-900",children:a.riskLevel?.toUpperCase()})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Model confidence"}),e.jsxs("h2",{className:"mt-1 text-3xl font-bold text-gray-900",children:[Math.round(u),"%"]})]}),e.jsx(rs,{className:"h-10 w-10 text-success-500"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Confidence derived from ensemble validation across behavioural and sentiment indicators."})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Work hours this week"}),e.jsxs("h2",{className:"mt-1 text-3xl font-bold text-gray-900",children:[b," hrs"]})]}),e.jsx(Ce,{className:"h-10 w-10 text-warning-500"})]}),e.jsxs("p",{className:"mt-4 text-sm text-gray-600",children:["Overtime contribution: ",w," hrs beyond recommended limits."]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Dominant risk driver"}),e.jsx("h2",{className:"mt-1 text-3xl font-bold text-gray-900",children:Object.entries(a.factors||{}).sort((p,N)=>(N[1]??0)-(p[1]??0))[0]?.[0]?.replace(/([A-Z])/g," $1").toLowerCase()??"workload"})]}),e.jsx(gr,{className:"h-10 w-10 text-danger-500"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Focus on this factor to produce the fastest risk reduction."})]})]}),e.jsxs("section",{className:"grid grid-cols-1 gap-6 xl:grid-cols-3",children:[e.jsx("div",{className:"xl:col-span-2",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Burnout trajectory"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Last 7 weeks"})]}),e.jsx("div",{className:"h-80",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(br,{data:c,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorScore",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#ef4444",stopOpacity:.4}),e.jsx("stop",{offset:"100%",stopColor:"#f87171",stopOpacity:.05})]})}),e.jsx(We,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(ze,{dataKey:"week",tick:{fontSize:12}}),e.jsx(Ve,{tick:{fontSize:12},domain:[0,100]}),e.jsx(Ee,{content:({active:p,payload:N})=>{if(p&&N&&N.length){const[v,$,E]=N;return e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3 text-sm shadow",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:v?.payload?.week}),e.jsxs("p",{className:"text-gray-600",children:["Score: ",v?.value]}),e.jsxs("p",{className:"text-gray-600",children:["Workload: ",f($?.value)]}),e.jsxs("p",{className:"text-gray-600",children:["Stress: ",f(E?.value)]})]})}return null}}),e.jsx(st,{type:"monotone",dataKey:"score",stroke:"#ef4444",fill:"url(#colorScore)",strokeWidth:3,name:"Burnout score"}),e.jsx(st,{type:"monotone",dataKey:"workload",stroke:"#f59e0b",fill:"#fbbf24",fillOpacity:.15,strokeWidth:2,name:"Workload"}),e.jsx(st,{type:"monotone",dataKey:"stress",stroke:"#8b5cf6",fill:"#a855f7",fillOpacity:.12,strokeWidth:2,name:"Stress"})]})})})]})}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Meeting load"}),e.jsx(ae,{className:"h-5 w-5 text-primary-500"})]}),e.jsx("div",{className:"h-80",children:e.jsx(Re,{width:"100%",height:"100%",children:e.jsxs(ns,{data:g,children:[e.jsx(We,{strokeDasharray:"3 3",stroke:"#f3f4f6"}),e.jsx(ze,{dataKey:"day",tick:{fontSize:12}}),e.jsx(Ve,{allowDecimals:!1,tick:{fontSize:12}}),e.jsx(Ee,{content:({active:p,payload:N})=>{if(p&&N&&N.length){const[{value:v,payload:$}={value:0,payload:{day:""}}]=N;return e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3 text-sm shadow",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:$?.day}),e.jsxs("p",{className:"text-gray-600",children:["Meetings: ",v]})]})}return null}}),e.jsx(is,{dataKey:"meetings",radius:[4,4,0,0],fill:"#3b82f6"})]})})})]})]}),e.jsxs("section",{className:"grid grid-cols-1 gap-6 lg:grid-cols-5",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsx(vt,{data:a})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(kt,{recommendations:a.recommendations||[]})})]}),e.jsxs("section",{className:"card",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Work pattern diagnostics"}),e.jsx(Pe,{className:"h-5 w-5 text-primary-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Remote work ratio"}),e.jsxs("p",{className:"mt-2 text-2xl font-semibold text-gray-900",children:[a?.workPatterns?.remoteWorkPercentage??65,"%"]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Blend hybrid strategies to rebalance social connection."})]}),e.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Deadline pressure"}),e.jsxs("p",{className:"mt-2 text-2xl font-semibold text-gray-900",children:[a?.workPatterns?.deadlinePressure??6,"/10"]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Frequent urgent tasks are elevating stress chemistry responses."})]}),e.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Sleep quality"}),e.jsxs("p",{className:"mt-2 text-2xl font-semibold text-gray-900",children:[a?.workPatterns?.sleepQuality??6,"/10"]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optimise evening routines to sustain cognitive resilience."})]}),e.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Exercise frequency"}),e.jsxs("p",{className:"mt-2 text-2xl font-semibold text-gray-900",children:[a?.workPatterns?.exerciseFrequency??4,"/10"]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Micro workouts during noon windows can offset cortisol spikes."})]}),e.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Social support"}),e.jsxs("p",{className:"mt-2 text-2xl font-semibold text-gray-900",children:[a?.workPatterns?.socialSupport??5,"/10"]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Plan deliberate connections to reinforce psychological safety."})]}),e.jsxs("div",{className:"rounded-lg border border-gray-200 p-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Job satisfaction"}),e.jsxs("p",{className:"mt-2 text-2xl font-semibold text-gray-900",children:[a?.workPatterns?.jobSatisfaction??6,"/10"]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Partner with your manager to realign expectations and goals."})]})]})]}),e.jsxs("section",{className:"card",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Action plan"}),e.jsxs("ul",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-danger-500"}),e.jsx("span",{children:"Block 4 hours weekly for deep work to minimise multitasking fatigue."})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-warning-500"}),e.jsx("span",{children:"Automate meeting summaries so only critical invites require presence."})]}),e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-primary-500"}),e.jsx("span",{children:"Schedule recovery blocks after deadline surges to protect sleep cycles."})]})]})]})]})})]})},$e=({children:r})=>{const{user:s,loading:t}=ge();return t?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"spinner mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):s?e.jsx(e.Fragment,{children:r}):e.jsx(ft,{to:"/login",replace:!0})};function dn(){const{user:r}=ge(),s=()=>r?.role==="admin"?e.jsx(es,{}):e.jsx(on,{});return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:e.jsxs(Js,{children:[e.jsx(de,{path:"/login",element:e.jsx(rn,{})}),e.jsx(de,{path:"/",element:e.jsx($e,{children:e.jsx(s,{})})}),e.jsx(de,{path:"/dashboard",element:e.jsx($e,{children:e.jsx(s,{})})}),e.jsx(de,{path:"/dashboard/details/:id",element:e.jsx($e,{children:e.jsx(cn,{})})}),e.jsx(de,{path:"/admin",element:e.jsx($e,{children:e.jsx(es,{})})}),e.jsx(de,{path:"/reports",element:e.jsx($e,{children:e.jsx(ln,{})})}),e.jsx(de,{path:"*",element:e.jsx(ft,{to:"/dashboard",replace:!0})})]})})}const mn=vr.createRoot(document.getElementById("root"));mn.render(e.jsx(ts.StrictMode,{children:e.jsx(Ys,{children:e.jsx(sn,{children:e.jsx(tn,{children:e.jsx(dn,{})})})})}));
//# sourceMappingURL=index-BVAGUc6r.js.map
